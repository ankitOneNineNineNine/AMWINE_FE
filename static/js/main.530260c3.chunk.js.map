{"version":3,"sources":["utilities/http.js","utilities/urls.js","images/wine.png","logo.svg","views/Navbar/Logo/Logo.js","utilities/links.js","utilities/auth.middleware.js","views/Navbar/MainNavLink/MainNavLink.js","views/Navbar/HamburgerMenu/HamburgerMenu.js","reduxMgmt/types/types.js","reduxMgmt/actions/actions.js","utilities/toast.js","components/Navbar/Navbar.js","views/Cart/Cart.js","images/esewa.png","images/visa.png","images/khalti.png","views/Home/Contact/Contact.js","views/Footer/Footer.js","views/Home/ImageText/Imagetext.js","views/Home/SeeMoreAdd/SeeMoreAdd.js","views/ProductView/Product/Product.js","views/Arrows/NextArrow.js","views/Arrows/PrevArrow.js","views/Home/slideShow/Slideshow.js","images/wineComp2.jpg","views/Ad/Ad.js","components/Home/Home.js","views/Shop/Search/Search.js","views/Shop/Filter/Filter.js","components/Shop/Shop.js","components/About/About.js","views/ProductView/ProductDetails/ProductDetails.js","views/Dashboard/Nav/SideNav.js","views/Dashboard/NavTop/NavTop.js","components/AdminPanel/Post/AddProduct/AddProduct.js","components/AdminPanel/Post/UpdateProduct/UpdateProduct.js","components/AdminPanel/Post/PostAds/PostAds.js","components/Profile/ProfileUpdate/ProfileUpdate.js","components/Profile/ProfileDetails/ProfileDetails.js","views/AdminPanel/Analytics/ProductAnalytics/ProductAnalytics.js","views/AdminPanel/AddAdmins/AddAdmins.js","views/AdminPanel/AdminDisplay/AdminDisplay.js","components/AdminPanel/Admins/Admins.js","components/BoughtHistory/BoughtHistory.js","components/AdminPanel/AdminPanel.js","components/Login/Login.js","components/Register/Register.js","components/ForgotPassword/ForgotPassword.js","components/AddressInput/AddressInput.js","Modal/Modal.js","components/CartContents/CartContents.js","components/PublicProfile/PublicProfile.js","components/ResetPassword/ResetPassword.js","App.js","reportWebVitals.js","reduxMgmt/reducers/reducers.js","index.js"],"names":["http","axios","create","baseURL","responseType","get","url","headers","params","secured","type","head","JSON","parse","localStorage","getItem","method","then","data","post","body","put","remove","profilePicUrl","productPicUrl","adPicUrl","Logo","className","to","links","authLinks","isAuthorized","user","role","substring","toLowerCase","isMainAdmin","MainNavLink","setShowMenu","showMenu","currentLink","signOut","mapLinks","map","link","i","src","image","Wine","_id","onClick","HamburgerMenu","openOrClose","SET_USER","SET_PRODUCTS","SET_CART","SET_FILTER","setUser","payload","setProducts","products","setCart","successNotification","message","toast","success","failureNotification","error","warningNotification","warning","warn","scrolledNav","backgroundColor","boxShadow","withRouter","connect","state","dispatch","onSignOut","props","useState","setCurrentLink","styleNav","setStyleNav","useEffect","location","pathname","length","window","onscroll","e","path","pageYOffset","style","token","msg","clear","history","push","catch","err","preventDefault","cart_p","cart","Contact","esewa","width","khalti","visa","Footer","ImageText","saveCartPToState","saveUserToState","product","productURL","picUrl","images","addToCart","p","a","findIndex","item","pIDs","setItem","stringify","formData","FormData","append","console","log","response","backgroundImage","name","price","color","NextArrow","onclickfn","PrevArrow","Slideshow","settings","next","prev","currentSlide","nextArrow","prevArrow","speed","infinite","slidesToShow","slidesToScroll","initialSlide","responsive","breakpoint","Ad","ad","title","bgStyleFromBE","AdDefault","saveProductsToState","setAd","scrollTo","top","pageNumber","itemsToShow","Search","searchCtx","useContext","SearchContext","placeholder","onChange","searchChange","search","Filter","filter","varieties","filterChange","value","htmlFor","variety","React","createContext","defaultF","min","max","filterDetails","saveFilterDetailsToState","details","setFilter","setPageNumber","searchText","setSearchText","totalProducts","setTotalProducts","setVarieties","left","count","Provider","target","checked","pType","splice","indexOf","Math","ceil","About","background","padding","position","height","bottom","Reviews","lazy","match","setProduct","loading","setLoading","currentSelectedImage","setCurrentSelectedImage","reviewRating","setReviewRating","reviewText","setReviewText","reviewUsers","setReviewUsers","getAllReviews","tP","Promise","resolve","revUsers","reviews","forEach","rev","addedBy","u","id","setTimeout","saveProduct","pr","alt","nextImageSelect","starCount","reduce","acc","rating","quantity","sold","fallback","postReview","text","pId","reviewTextChange","SideNav","sideNavOpen","currentSideNavLink","NavTop","openSideNav","justifyContent","addProductFormDetails","saveProductToState","productImage","useRef","formDetails","setFormDetails","submitted","setSubmitted","formChange","files","add","test","validate","prod","onSubmit","defaultValue","ref","multiple","current","click","URL","createObjectURL","deleteImage","updateProductDetails","UpdateProduct","alreadyImage","setAlreadyImage","removeImage","setRemoveImage","update","removeImg","removeAlreadyImage","postAdFormDetails","PostAds","adImage","postAd","updateFormDetails","fullName","address","number","password","imageChange","detailsChange","submit","userName","email","ProductAnalytics","goToProduct","changePageNumber","AddAdmins","addAdmin","addAdminFormChange","adminForm","AdminDisplay","admins","mainAdmin","deleteAdmin","admin","newAdminFormDetails","allAdmins","setAllAdmins","_","newA","_image","allBoughts","setAllBoughts","setUpdated","bought","b","date","createdAt","slice","bts","boughtQuantity","items","Object","keys","backgroundSize","totalP","settotalP","setSideNavOpen","addEventListener","handleResize","action","innerWidth","postContentsStyle","marginLeft","AdminSubRoute","Component","component","rest","render","exact","ProfileDetails","ProfileUpdate","AddProduct","Admins","BoughtHistory","loginFormDetails","eoru","saveUserToStore","submitClicked","setSubmitClicked","login","disabled","registerFormDetails","register","users","eIndex","uIndex","ForgotPassword","setEoru","forgotPassword","accepted","defaultAddressForm","city","postalCode","country","AddressInput","setShowModal","setAddressFormDetails","document","querySelector","modalRoot","Modal","el","createElement","appendChild","removeChild","ReactDOM","createPortal","children","saveProductsToCart","productSelected","setProductsSelected","subTotal","setSubTotal","qty","setQty","showModel","setShowModel","addressFormDetails","checkedOut","setCheckedOut","sP","selectQty","qtyT","pInd","pcheck","removePFromCart","nowProduct","selectProduct","attributes","tPrice","addressFilled","bodyForPost","productReq","shippingCharge","prId","ResetPassword","setState","reset","confirmPassword","confirmPassowrd","this","AdminRoute","PublicRoute","isAdmin","PublicAuth","p_id","Home","Shop","PublicProfile","CartContents","ProductDetails","AdminPanel","Login","Register","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialUserState","initialProductsState","initialCartProducts","initialFilterDetails","logger","createLogger","rootReducer","combineReducers","store","createStore","applyMiddleware","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.530260c3.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\n//options\r\nconst http = axios.create({\r\n  baseURL: \"https://amwine.herokuapp.com\",\r\n  responseType: \"json\",\r\n});\r\n\r\n\r\n//api call functions\r\n\r\nfunction get(url, { headers = {}, params = {} } = {}, secured = false, type = \"application/json\") {\r\n  let head =secured ? {\"Authorization\": JSON.parse(localStorage.getItem(\"i_hash\")), \"Content-Type\": type} : { \"Content-Type\": type};\r\n \r\n  return http({\r\n    method: \"GET\",\r\n    url,\r\n    headers: head,\r\n    params,\r\n  }).then((data) => data.data);\r\n}\r\n\r\nfunction post(\r\n  url,\r\n  { headers ={}, params = {}, body = {} },\r\n  secured = false,\r\n  type = \"application/json\"\r\n) {\r\n  \r\n  let head =secured ? {\"Authorization\": JSON.parse(localStorage.getItem(\"i_hash\")), \"Content-Type\": type} : { \"Content-Type\": type};\r\n \r\n  return http({\r\n    method: \"POST\",\r\n    url,\r\n    headers: head,\r\n    data: body,\r\n    params,\r\n  }).then((data) => data.data);\r\n}\r\n\r\nfunction put(\r\n  url,\r\n  { headers ={}, params = {}, body = {} },\r\n  secured = false,\r\n  type = \"application/json\"\r\n) {\r\n  let head =secured ? {\"Authorization\": JSON.parse(localStorage.getItem(\"i_hash\")), \"Content-Type\": type} : { \"Content-Type\": type};\r\n \r\n  return http({\r\n    method: \"PUT\",\r\n    url,\r\n    headers: head,\r\n    data: body,\r\n    params,\r\n  })\r\n  .then(data=>data.data);\r\n}\r\n\r\nfunction remove(\r\n  url,\r\n  { headers ={}, params = {}, body = {} },\r\n  secured = false,\r\n  type = \"application/json\"\r\n) {\r\n  let head =secured ? {\"Authorization\": JSON.parse(localStorage.getItem(\"i_hash\")), \"Content-Type\": type} : { \"Content-Type\": type};\r\n \r\n  return http({\r\n    method: \"DELETE\",\r\n    url,\r\n    headers: head,\r\n    params,\r\n  });\r\n}\r\n\r\nexport { post, put, remove, get };\r\n","export const profilePicUrl = 'http://localhost:8000/ProfilePictures'\r\nexport const productPicUrl = 'http://localhost:8000/ProductImages'\r\nexport const adPicUrl = 'http://localhost:8000/adImage'","export default __webpack_public_path__ + \"static/media/wine.6510e926.png\";","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Logo.css'\r\n\r\n\r\nexport default function Logo(){\r\n    return(\r\n        <div className = 'linkContainer'>\r\n        <Link to = '/'>\r\n        <div className = 'logo'>\r\n        <div className ='box'></div>\r\n        <span>AMWINE</span>\r\n        </div>\r\n        </Link>\r\n        </div>\r\n    )\r\n}","export let links = [\"Shop\", \"About\",  \"Login\"];\r\nexport let authLinks = [\"Shop\", \"About\", \"Profile\"]","export function isAuthorized(user) {\r\n  if (\r\n    user &&\r\n    user.role &&\r\n    user.role.substring(0, 5).toLowerCase() === \"admin\"\r\n  ) {\r\n    return true;\r\n  } else return false;\r\n}\r\n\r\nexport function isMainAdmin(user) {\r\n  return isAuthorized(user)\r\n    ? user.role.substring(6, 7).toLowerCase() === \"p\"\r\n      ? true\r\n      : false\r\n    : false;\r\n}\r\n","import React, { memo } from \"react\";\r\nimport \"./MainNavLink.css\";\r\nimport { authLinks, links } from \"../../../utilities/links\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {isAuthorized} from '../../../utilities/auth.middleware'\r\nimport Wine from \"../../../images/wine.png\";\r\nimport { profilePicUrl } from \"../../../utilities/urls\";\r\n\r\n\r\n\r\nfunction MainNavLink({user, setShowMenu, showMenu, currentLink,signOut }) {\r\n  let mapLinks = localStorage.getItem('i_hash') ? authLinks : links;\r\n\r\n  return (\r\n    <>\r\n      <div className=\"links\">\r\n        <ul>\r\n          {mapLinks.map((link, i) => {\r\n            return link === \"Profile\" ?  \r\n                isAuthorized(user)?\r\n                (\r\n                  <Link to={`/admin`} key={i}>\r\n                    <li className={currentLink === `/admin` ? \"activeMainNav\" : null} >\r\n                      <img className=\"publicProfile\" src = {user.image? `${profilePicUrl}/${user.image}` : Wine}/>\r\n                    </li>\r\n                  </Link>\r\n                ) \r\n                :\r\n                (\r\n                  <Link to={`/profile/${user._id}`} key={i}>\r\n                    <li className={(currentLink === `profile/${user._id}`) ? \"activeMainNav\" : null} >\r\n                      <img className=\"publicProfile\" src = {user.image? `${profilePicUrl}/${user.image}` : Wine}/>\r\n                    </li>\r\n                  </Link>\r\n                ) : (\r\n                  <Link to={\"/\" + link.toLowerCase()} key={i}>\r\n                    <li className={currentLink === link.toLowerCase() ? \"activeMainNav\" : null} >\r\n                      {link}\r\n                    </li>\r\n                  </Link>\r\n                )\r\n          })}\r\n        </ul>\r\n      </div>\r\n      {showMenu ? (\r\n        <div className=\"menu\">\r\n          <ul>\r\n            {mapLinks.map((link, i) => {\r\n              return link === \"Profile\" ?  \r\n              isAuthorized(user)?\r\n              (\r\n                <Link to={`/admin`} key={i}>\r\n                  <li className={currentLink ==='/admin' ? \"activeMainNav\" : null} onClick = {()=>{setShowMenu()}}>\r\n                  {link}\r\n                  </li>\r\n                </Link>\r\n              ) \r\n              :\r\n              (\r\n                <Link to={`/profile/${user._id}`} key={i}>\r\n                  <li className={(currentLink === `profile/${user._id}`) ? \"activeMainNav\" : null} onClick = {()=>{setShowMenu()}}>\r\n                  {link}\r\n                  </li>\r\n                </Link>\r\n              ) : (\r\n                <Link to={\"/\" + link.toLowerCase()} key={i}>\r\n                  <li className={currentLink === link.toLowerCase() ? \"activeMainNav\" : null} onClick = {()=>{setShowMenu()}}>\r\n                    {link}\r\n                  </li>\r\n                </Link>\r\n              )\r\n            })}\r\n          </ul>\r\n        </div>\r\n      ) : null}\r\n\r\n\r\n     {localStorage.getItem('i_hash') ? \r\n      <div className = 'logoutFloat' onClick = {signOut}>\r\n      <button>Sign Out</button>\r\n    </div>\r\n    :null}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MainNavLink\r\n\r\n\r\n","import React from 'react';\r\nimport './HamburgerMenu.css'\r\n\r\nexport default function HamburgerMenu({showMenu,openOrClose}){\r\n    return (\r\n        <div className = 'hamMenu'>\r\n                {showMenu? \r\n                <i className = 'fa fa-times fa-2x' onClick = {openOrClose}></i>\r\n                     : \r\n                <i className = 'fa fa-bars fa-2x' onClick = {openOrClose}></i>}\r\n            </div>\r\n    )\r\n}","export const SET_USER = \"SET_USER\";\r\nexport const SET_PRODUCTS = \"SET_PRODUCTS\";\r\nexport const SET_CART = \"SET_CART\";\r\nexport const SET_FILTER = \"SET_FILTER\";","import { SET_USER,SET_PRODUCTS, SET_CART, SET_FILTER } from \"../types/types\";\r\n\r\nexport const setUser = (user) => {\r\n return {\r\n  type: SET_USER,\r\n  payload: user,\r\n }\r\n}\r\n\r\nexport const setProducts = products =>{\r\n    return {\r\n        type:SET_PRODUCTS,\r\n        payload: products\r\n    }\r\n}\r\n\r\nexport const setCart = products =>{\r\n    return {\r\n        type: SET_CART,\r\n        payload:products\r\n    }\r\n}\r\n\r\nexport const setFilter = details =>{\r\n    return {\r\n        type: SET_FILTER,\r\n        payload:details\r\n    }\r\n}","import {toast} from 'react-toastify';\r\n\r\nexport function successNotification(message){\r\n    toast.success(message)\r\n}\r\n\r\nexport function failureNotification(error){\r\n    toast.error(error)\r\n}\r\n\r\nexport function warningNotification(warning){\r\n    toast.warn(warning)\r\n}\r\nexport function updateNotification(message){\r\n    toast.update(message)\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport Logo from \"../../views/Navbar/Logo/Logo\";\r\nimport \"./Navbar.css\";\r\nimport MainNavLink from \"../../views/Navbar/MainNavLink/MainNavLink\";\r\nimport HamburgerMenu from \"../../views/Navbar/HamburgerMenu/HamburgerMenu\";\r\nimport { useLocation, withRouter } from \"react-router-dom\";\r\nimport { setUser } from \"../../reduxMgmt/actions/actions\";\r\n\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { get, post } from \"../../utilities/http\";\r\nimport { failureNotification, successNotification } from \"../../utilities/toast\";\r\nlet scrolledNav = {\r\n  backgroundColor: \"var(--main-color)\",\r\n  boxShadow: \" 0 0 15px white\",\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user.user,\r\n  };\r\n};\r\n\r\nconst mapDispathToProps = (dispatch) => {\r\n  return {\r\n    onSignOut: () => dispatch(setUser({})),\r\n  };\r\n};\r\n\r\nfunction Navbar(props) {\r\n  const [showMenu, setShowMenu] = useState(false);\r\n  const [currentLink, setCurrentLink] = useState(\"/\");\r\n  const [styleNav, setStyleNav] = useState({ backgroundColor: \"transparent\" });\r\n  const openOrClose = (e) => {\r\n    e.preventDefault();\r\n    setShowMenu((showMenu) => !showMenu);\r\n  };\r\n  const signOut = (e) => {\r\n    let token = JSON.parse(localStorage.getItem(\"i_hash\"));\r\n\r\n    post(\"/auth/logout\", {body: {token}})\r\n    .then(msg => {\r\n      \r\n      successNotification(msg)\r\n      localStorage.clear();\r\n      props.onSignOut();\r\n      props.history.push(\"/\");\r\n    \r\n    })\r\n    .catch(err => failureNotification(err))\r\n\r\n    \r\n  };\r\n  useEffect(() => {\r\n    let link = props.location.pathname.substring(\r\n      1,\r\n      props.location.pathname.length\r\n    );\r\n    if (link !== \"\") {\r\n      setStyleNav(scrolledNav);\r\n    }\r\n    setCurrentLink(link);\r\n    window.onscroll = (e) => {\r\n      if (link !== \"\") {\r\n        setStyleNav(scrolledNav);\r\n      } else {\r\n        if (e.path[1].pageYOffset > 100) {\r\n          setStyleNav(scrolledNav);\r\n        } else {\r\n          setStyleNav({ backgroundColor: \"transparent\" });\r\n        }\r\n      }\r\n    };\r\n    return () =>{\r\n      setStyleNav(scrolledNav);\r\n    }\r\n  }, [props.location.pathname]);\r\n\r\n  return (\r\n    <>\r\n\r\n      <nav className=\"nav\" style={styleNav}>\r\n        <Logo />\r\n        <MainNavLink\r\n          setShowMenu={setShowMenu}\r\n          showMenu={showMenu}\r\n          currentLink={currentLink}\r\n          user={props.user}\r\n          signOut={signOut}\r\n        />\r\n        <HamburgerMenu showMenu={showMenu} openOrClose={openOrClose} />\r\n      </nav>\r\n    </>\r\n  );\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispathToProps)(Navbar));\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Cart.css\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    cart_p: state.cart.products,\r\n  };\r\n};\r\n\r\nfunction Cart({ cart_p }) {\r\n\r\n  return (\r\n    <Link to=\"/cart\">\r\n      <div className=\"cartContainer\">\r\n        <i className=\"fa fa-shopping-cart fa-2x\"></i>\r\n        <span>{(cart_p && cart_p.length) || 0}</span>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\nexport default connect(mapStateToProps)(Cart);\r\n","export default __webpack_public_path__ + \"static/media/esewa.a56ea46b.png\";","export default __webpack_public_path__ + \"static/media/visa.28a6bad3.png\";","export default __webpack_public_path__ + \"static/media/khalti.b56e4436.png\";","import React from 'react';\r\nimport './Contact.css'\r\nimport esewa from '../../../images/esewa.png'\r\nimport visa from '../../../images/visa.png'\r\nimport khalti from '../../../images/khalti.png'\r\n\r\nexport default function Contact(){\r\n    return (\r\n        <div className = 'contactContainer'>\r\n        <div className = 'pymtInfo'>\r\n            <h2>Payment Options</h2>\r\n                <img src = {esewa} width = '200px'/>\r\n                <img src = {khalti} width = '200px'/>\r\n                <img src = {visa} width = '200px'/>\r\n        </div>\r\n        <div className = 'cntctInfo'>\r\n        <h2>Contact Info</h2>\r\n        <span className = 'sadd'>Bhaktapur, Nepal</span>\r\n        <span className = 'tel'><strong>Tel:</strong> +8787542464687</span>\r\n        <span className = 'email'><strong>Email:</strong> pra@gads.com</span>\r\n        <div className = 'iconContainerSocial'>\r\n        <i className = 'fa fa-facebook fa-3x'></i>\r\n        <i className = 'fa fa-instagram fa-3x'></i>\r\n        </div>\r\n        </div>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport Cart from \"../Cart/Cart\";\r\nimport Contact from \"../Home/Contact/Contact\";\r\nimport \"./Footer.css\";\r\n\r\nexport default function Footer() {\r\n  return (\r\n      <div className=\"footer\">\r\n        <Contact />\r\n        <span> 2020, AMWINE Pvt. Ltd. All rights reserved.</span>\r\n        <Cart />\r\n      </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Imagetext.css';\r\n\r\n\r\nexport default function ImageText(){\r\n    return (\r\n        <div className=\"newsBefore\">\r\n        <div className=\"newsText\">\r\n          <h2>ANKIT WINE SHOP</h2>\r\n          <p>Join us for perks on buys</p>\r\n          {\r\n            localStorage.getItem(\"i_hash\")?\r\n            null: \r\n            <Link to = '/join' className = 'JoinButtonBelow'>Join</Link>\r\n          }\r\n        </div>\r\n      </div>\r\n    )\r\n}","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './SeeMoreAdd.css'\r\n\r\nfunction SeeMoreAdd(props){\r\n    const goToShop = () =>{\r\n        props.history.push('/shop');\r\n    }\r\n    return (\r\n        <div className = 'seeMore'>\r\n            <i className = 'fa fa-glass fa-4x'/>\r\n            <h2>Browse All Products</h2>\r\n            <button onClick = {goToShop}>See More</button>\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(SeeMoreAdd)","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Product.css\";\r\nimport { productPicUrl } from \"../../../utilities/urls\";\r\nimport { isAuthorized } from \"../../../utilities/auth.middleware\";\r\nimport { setCart, setUser } from \"../../../reduxMgmt/actions/actions\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  failureNotification,\r\n  successNotification,\r\n  warningNotification,\r\n} from \"../../../utilities/toast\";\r\nimport { put } from \"../../../utilities/http\";\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    cart_p: state.cart.products,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    saveCartPToState: (products) => dispatch(setCart(products)),\r\n    saveUserToState:user=>dispatch(setUser(user))\r\n  };\r\n};\r\nfunction Product({ product, user, saveCartPToState, cart_p,saveUserToState }) {\r\n  const productURL = \"/shop/\" + product._id;\r\n  const picUrl = productPicUrl + \"/\" + product.images[0];\r\n\r\n  const addToCart = async (p) => {\r\n    if (cart_p.findIndex((p) => p._id === product._id) > -1) {\r\n      warningNotification(\"Already in the cart\");\r\n      return;\r\n    }\r\n\r\n    let item = cart_p;\r\n    item.push(p);\r\n    let pIDs = item.map(p=>p._id)\r\n    if (!localStorage.getItem('i_hash')) {\r\n      localStorage.setItem(\"cart_p\", JSON.stringify(pIDs));\r\n      saveCartPToState(item);\r\n      successNotification(\"Addedd to cart\");\r\n    } else {\r\n      let formData = new FormData();\r\n      formData.append('cart', p._id)\r\n      formData.append('action', 'add')\r\n      try{\r\n        let user = await put(\r\n          \"/user\",\r\n          { body :formData},\r\n          true,\r\n          \"multipart/form-data\"\r\n        );\r\n        \r\n        saveUserToState(user)\r\n        saveCartPToState(item);\r\n        successNotification(\"Addedd to cart\");\r\n\r\n      }\r\n      catch(e){\r\n        console.log(e.response)\r\n         failureNotification(\"Error Occured!\")\r\n      }\r\n\r\n\r\n    }\r\n \r\n  };\r\n  return (\r\n    <div className=\"product\">\r\n      <Link to={productURL}>\r\n        <div className=\"imageContainer\">\r\n          <div\r\n            className=\"bgImage\"\r\n            style={{\r\n              backgroundImage: product.images.length\r\n                ? \"url(\" + picUrl + \")\"\r\n                : null,\r\n            }}\r\n          ></div>\r\n        </div>\r\n      </Link>\r\n      <div className=\"desc\">\r\n        <Link to={productURL}>\r\n          {\" \"}\r\n          <h2 className=\"productName\">{product.name}</h2>{\" \"}\r\n        </Link>\r\n        <div className=\"descrip\">\r\n          <span className=\"productPrice\">Price: NRs. {product.price}</span>\r\n          {isAuthorized(user) ? (\r\n            <Link to={`admin/post/updateProduct/${product._id}`}>\r\n              <button className=\"updateButton\">Update</button>\r\n            </Link>\r\n          ) : (\r\n            <div className=\"addToCart\" onClick={() => addToCart(product)}>\r\n              <button\r\n                className=\"addToCartButton\"\r\n                style={\r\n                  cart_p.findIndex((p) => p._id === product._id) > -1\r\n                    ? { backgroundColor: \"white\", color: \"black\" }\r\n                    : null\r\n                }\r\n              >\r\n                <i className=\"fa fa-cart-plus fa-2x\"></i>\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Product);\r\n","import React from 'react';\r\nimport './Arrow.css'\r\nexport default function NextArrow(props){\r\n    const onclickfn = props.onClick\r\nreturn(\r\n    <div className = 'arrowRight' onClick = {onclickfn}>\r\n        <i className = 'fa fa-chevron-right'></i>\r\n    </div>\r\n)\r\n}","import React from 'react';\r\nimport './Arrow.css'\r\nexport default function PrevArrow(props){\r\n    const onclickfn = props.onClick\r\nreturn(\r\n    <div className = 'arrowLeft' onClick={onclickfn}>\r\n        <i className = 'fa fa-chevron-left'></i>\r\n    </div>\r\n)\r\n}","import React from \"react\";\r\nimport Product from \"../../ProductView/Product/Product\";\r\nimport Slider from \"react-slick\";\r\nimport \"./Slideshow.css\";\r\nimport NextArrow from \"../../Arrows/NextArrow\";\r\nimport PrevArrow from \"../../Arrows/PrevArrow\";\r\n\r\nexport default function Slideshow({\r\n  user,\r\n  products,\r\n  next,\r\n  prev,\r\n  currentSlide,\r\n}) {\r\n  const settings = {\r\n    nextArrow: <NextArrow />,\r\n    prevArrow: <PrevArrow />,\r\n    speed: 500,\r\n    infinite:false,\r\n    slidesToShow: 4,\r\n    slidesToScroll: 4,\r\n    initialSlide: 0,\r\n    responsive: [\r\n      {\r\n        breakpoint: 1050,\r\n        settings: {\r\n          slidesToShow: 3,\r\n          slidesToScroll: 3,\r\n          infinite:true\r\n        },\r\n      },\r\n      {\r\n        breakpoint: 760,\r\n        settings: {\r\n          slidesToShow: 2,\r\n          slidesToScroll: 2,\r\n          initialSlide: 2,\r\n          infinite:true\r\n        },\r\n      },\r\n      {\r\n        breakpoint: 480,\r\n        settings: {\r\n          slidesToShow: 1,\r\n          slidesToScroll: 1,\r\n          infinite:true\r\n        },\r\n      },\r\n    ],\r\n  };\r\n  return (\r\n    <div className=\"slider\">\r\n      <Slider {...settings}>\r\n        {products.map((product, i) => {\r\n          return <Product key={i} user={user} product={product} />;\r\n        })}\r\n      </Slider>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/wineComp2.c30c18dc.jpg\";","import React from 'react';\r\nimport './Ad.css'\r\nimport {adPicUrl} from '../../utilities/urls'\r\nimport AdDefault from '../../images/wineComp2.jpg'\r\nexport default function Ad({ad}){\r\n    const {title, image} =ad;\r\n    console.log(`${adPicUrl}/${image}`)\r\n    const bgStyleFromBE = image? {\r\n        backgroundImage: `url(${adPicUrl}/${image})`\r\n    }\r\n    : {\r\n        backgroundImage: `url(\"${AdDefault}\")`\r\n    };\r\n    return (\r\n        <>\r\n        <div className = 'ad'\r\n        style = {bgStyleFromBE}\r\n        >\r\n            <h2>{title? title: null}</h2>\r\n    \r\n       </div>\r\n       </>\r\n    )\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport Footer from \"../../views/Footer/Footer\";\r\nimport Contact from \"../../views/Home/Contact/Contact\";\r\nimport ImageText from \"../../views/Home/ImageText/Imagetext\";\r\nimport SeeMoreAdd from \"../../views/Home/SeeMoreAdd/SeeMoreAdd\";\r\nimport './Home.css'\r\nimport Slideshow from \"../../views/Home/slideShow/Slideshow\";\r\nimport Ad from \"../../views/Ad/Ad\";\r\nimport { connect } from \"react-redux\";\r\nimport { setProducts } from \"../../reduxMgmt/actions/actions\";\r\nimport { get, post } from \"../../utilities/http\";\r\n\r\n\r\n\r\nconst mapStateToProps = state=>{\r\n  return {\r\n    products: state.product.products,\r\n    user: state.user.user\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch=>{\r\n  return {\r\n    saveProductsToState: products=>dispatch(setProducts(products))\r\n  }\r\n}\r\nfunction Home({products, user, saveProductsToState}) {\r\n  const [ad, setAd] = useState({})\r\nuseEffect(()=>{\r\n  window.scrollTo({\r\n    top:0,\r\n  })\r\n  post('/product/search',{\r\n    body: {\r\n      pageNumber: 1,\r\n      itemsToShow: 10\r\n    }\r\n  } )\r\n  .then(({products})=>{\r\n    saveProductsToState(products)\r\n  })\r\n  .catch(console.log)\r\n\r\n\r\n  get('/ad')\r\n  .then(ad=>{\r\n    setAd(ad)\r\n  })\r\n}, [])\r\n  return (\r\n    <div className = 'home'>\r\n      \r\n      <ImageText />\r\n      <h2>Latest Wine on Stock</h2>\r\n      <Slideshow products = {products} user = {user}/>\r\n      <SeeMoreAdd />\r\n      <Ad ad = {ad|| {}}/>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)","import React, { useContext } from \"react\";\r\nimport \"./Search.css\";\r\nimport {SearchContext} from '../../../components/Shop/Shop';\r\n\r\n\r\nexport default function Search() {\r\n  const searchCtx = useContext(SearchContext);\r\n  return (\r\n    <div className=\"search\">\r\n      <input type=\"search\" placeholder=\"Enter name\" onChange = {searchCtx.searchChange}></input>\r\n      <div className=\"searchButton\" onClick = {searchCtx.search}>\r\n        <i className=\"fa fa-search fa-2x\"></i>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Search from \"../Search/Search\";\r\nimport \"./Filter.css\";\r\n\r\nexport default function Filter({filter, varieties, filterChange, searchChange, search}) {\r\n  return (\r\n    <div className=\"filter\">\r\n      <h2>Search</h2>\r\n      <Search filter = {filter}/>\r\n      <h2>Filter</h2>\r\n      <div className=\"priceRange\">\r\n        <label>Price</label>\r\n        <input type=\"number\" name = 'min' onChange = {filterChange}></input>\r\n        <label>to</label>\r\n        <input type=\"number\" name = 'max'  onChange = {filterChange}></input>\r\n      </div>\r\n      <div className=\"wOrB\">\r\n        <h2>Type</h2>\r\n        <input type=\"checkbox\" name=\"type\" value=\"wine\"  onChange = {filterChange}/>\r\n        <label htmlFor=\"wine\">Wine</label>\r\n        <input type=\"checkbox\" name=\"type\" value=\"beer\"  onChange = {filterChange}/>\r\n        <label htmlFor=\"beer\">Beer</label>\r\n        <br />\r\n      </div>\r\n      <div className=\"variety\">\r\n        <h2>Variety</h2>\r\n       <div className = 'varietyContainer'>\r\n       {\r\n          varieties.map((variety, i) =>{\r\n            return (\r\n              <div key = {i}>\r\n                    <input type=\"checkbox\" name={variety} value={variety}  onChange = {filterChange}/>\r\n                     <label htmlFor={variety}>{variety}</label>\r\n                     <br />\r\n              </div>\r\n            )\r\n          })\r\n        }\r\n       </div>\r\n\r\n   \r\n      </div>\r\n      <button className=\"filterButton\" onClick = {filter}>Filter</button>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { setFilter, setProducts } from \"../../reduxMgmt/actions/actions\";\r\nimport { get, post } from \"../../utilities/http\";\r\nimport Product from \"../../views/ProductView/Product/Product\";\r\nimport Filter from \"../../views/Shop/Filter/Filter\";\r\nimport Search from \"../../views/Shop/Search/Search\";\r\nimport \"./Shop.css\";\r\n\r\nexport const SearchContext = React.createContext(null)\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    products: state.product.products,\r\n    user: state.user.user,\r\n    filterDetails: state.filter,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    saveProductsToState: (products) => dispatch(setProducts(products)),\r\n    saveFilterDetailsToState: (details) => dispatch(setFilter(details)),\r\n  };\r\n};\r\nconst defaultF = {\r\n  type: [],\r\n  variety: [],\r\n  min: 0,\r\n  max: 0,\r\n  name: \"\"\r\n}\r\nfunction Shop({\r\n  products,\r\n  user,\r\n  saveProductsToState,\r\n  filterDetails,\r\n  cart_p,\r\n  saveFilterDetailsToState,\r\n}) {\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const [totalProducts, setTotalProducts] = useState(0);\r\n  const [varieties, setVarieties] = useState([])\r\n  useEffect(() => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      left: 0,\r\n  \r\n    });\r\n    get('/product/pr/varieties')\r\n    .then(varieties=>{\r\n      setVarieties(varieties)\r\n    })\r\n    post(\"/product/search\", {\r\n      body: {\r\n        pageNumber: pageNumber,\r\n        itemsToShow:5,\r\n        ...filterDetails\r\n      },\r\n    }).then(({products, count}) => {\r\n      setTotalProducts(count)\r\n      saveProductsToState(products);\r\n      if (!products.length) {\r\n        setPageNumber(1);\r\n      }\r\n    });\r\n  }, [pageNumber]);\r\n\r\n  const filterChange = (e) => {\r\n    let { name, value, checked, type } = e.target;\r\n    \r\n    if (type === \"checkbox\") {\r\n      let pType = filterDetails.type;\r\n      let variety = filterDetails.variety;\r\n\r\n      if (name === \"type\") {\r\n        if (checked) {\r\n          pType.push(value);\r\n        } else {\r\n          pType.splice(pType.indexOf(value), 1);\r\n        }\r\n      } else {\r\n        if (checked) {\r\n          variety.push(value);\r\n        } else {\r\n          variety.splice(variety.indexOf(value), 1);\r\n        }\r\n      }\r\n      saveFilterDetailsToState({\r\n        ...filterDetails,\r\n        type: pType,\r\n        variety: variety,\r\n      });\r\n    } else {\r\n      saveFilterDetailsToState({ ...filterDetails, [name]: value });\r\n    }\r\n  };\r\n  const searchAll = e =>{\r\n    post(\"/product/search\", { body: {\r\n      ...defaultF, \r\n      pageNumber,\r\n      itemsToShow:5,\r\n    }})\r\n      .then(({products, count}) => {\r\n        setTotalProducts(count)\r\n        \r\n        saveProductsToState(products);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n  const filter = (e) => {\r\n   \r\n    post(\"/product/search\", { body: {\r\n      ...filterDetails, \r\n      pageNumber,\r\n      itemsToShow:5,\r\n    }})\r\n      .then(({products, count}) => {\r\n        console.log(products, count)\r\n        setTotalProducts(count)\r\n        \r\n        saveProductsToState(products);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  const searchChange = e=>{\r\n    \r\n    setSearchText(e.target.value)\r\n  }\r\n  const search = e =>{\r\n    saveFilterDetailsToState({...defaultF, name: searchText})\r\n    setPageNumber(1)\r\n    post(\"/product/search\", { body: {\r\n      ...defaultF, name: searchText, \r\n      pageNumber:1,\r\n      itemsToShow:5,\r\n    }})\r\n      .then(({products, count}) => {\r\n        saveProductsToState(products);\r\n        setTotalProducts(count)\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n \r\n  return (\r\n    <div className=\"shop\">\r\n      <div className=\"filterSub\"></div>\r\n      <div className=\"filterC\">\r\n     \r\n      <SearchContext.Provider value = {{\r\n        searchChange,\r\n        search\r\n      }}>\r\n        <Filter filter={filter} filterChange={filterChange} varieties = {varieties} />\r\n      </SearchContext.Provider>\r\n      </div>\r\n      <div className=\"filterContainer\"></div>\r\n      <div className=\"productCollection\">\r\n        <div className=\"detailPlusSort\">\r\n        <button className = 'browseAll' onClick = {searchAll}>Browse All</button>\r\n        <div className=\"pageNumberShow\">Page: {pageNumber}</div>\r\n          <h3>Showing {products && products.length} of {totalProducts} results</h3>\r\n        </div>\r\n        {products.map((product, i) => {\r\n          return <Product user={user} key={i} product={product} />;\r\n        })}\r\n        <div className=\"pageNumberShow\">Page: {pageNumber}</div>\r\n        <div className=\"paginateButtons\">\r\n          <button\r\n          className = {pageNumber===1? 'disabledButton': null}\r\n            onClick={() =>\r\n              setPageNumber((pageNumber) =>\r\n                pageNumber === 1 ? 1 : pageNumber - 1\r\n              )\r\n            }\r\n          >\r\n            Prev\r\n          </button>\r\n          <button className = {pageNumber===Math.ceil(totalProducts/5)? 'disabledButton': null} onClick={() => setPageNumber((pageNumber) => pageNumber ===Math.ceil(totalProducts/5)? Math.ceil(totalProducts/5): pageNumber + 1)}>\r\n            Next\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Shop);\r\n","import React from \"react\";\r\nimport \"./About.css\";\r\n\r\nexport default function About() {\r\n  return (\r\n    <div className=\"about\">\r\n      <h1>AMWINE SHOP</h1>\r\n      <div className=\"aboutUS\">\r\n        <h2>\r\n          We sell all kinds of wines and beers imported from each corner of the\r\n          world.\r\n        </h2>\r\n        <p>\r\n          we are the certified company by Government of Nepal to sell liquor\r\n          products.\r\n        </p>\r\n        <p>We sell only wines and beers.</p>\r\n        <p>We guarantee the authenticity and quality of products.</p>\r\n        <p>\r\n          We have more than 50 employees for delivery and sale management for\r\n          your comfort!\r\n        </p>\r\n      </div>\r\n      <div className=\"members\">\r\n        <div className=\"memContainer\">\r\n          <div className=\"mem founder\">\r\n            <div\r\n              style={{\r\n                background: \"white\",\r\n                padding: \"10px\",\r\n                width: \"100%\",\r\n                position: \"absolute\",\r\n                left: \"0\",\r\n                height: \"150px\",\r\n                bottom: \"0px\",\r\n              }}\r\n            >\r\n              <h2>~Ankit Pradhan</h2>\r\n              <h3>-- Founder and CEO</h3>\r\n            </div>\r\n          </div>\r\n          <div className=\"mem president\">\r\n            <div\r\n              style={{\r\n                background: \"white\",\r\n                padding: \"10px\",\r\n                width: \"100%\",\r\n                position: \"absolute\",\r\n                left: \"0\",\r\n                height: \"150px\",\r\n                bottom: \"0px\",\r\n              }}\r\n            >\r\n              <h2>~Kiran Musyakhwo</h2>\r\n              <h3>-- President</h3>\r\n            </div>\r\n          </div>\r\n          <div className=\"mem vice-president\">\r\n            <div\r\n              style={{\r\n                background: \"white\",\r\n                padding: \"10px\",\r\n                width: \"100%\",\r\n                position: \"absolute\",\r\n                left: \"0\",\r\n                height: \"150px\",\r\n                bottom: \"0px\",\r\n              }}\r\n            >\r\n              <h2>~Aman Mool</h2>\r\n              <h3>-- Vice-President</h3>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { lazy, memo, Suspense, useEffect, useState } from \"react\";\r\nimport \"./ProductDetails.css\";\r\nimport Product from \"../Product/Product\";\r\nimport { connect } from \"react-redux\";\r\nimport { productPicUrl } from \"../../../utilities/urls\";\r\nimport { setCart, setUser } from \"../../../reduxMgmt/actions/actions\";\r\nimport {\r\n  failureNotification,\r\n  successNotification,\r\n  warningNotification,\r\n} from \"../../../utilities/toast\";\r\nimport { get, post, put } from \"../../../utilities/http\";\r\nimport { isAuthorized } from \"../../../utilities/auth.middleware\";\r\nimport { Link } from \"react-router-dom\";\r\nimport StarRatingComponent from \"react-star-rating-component\";\r\nconst Reviews = lazy(() => import(\"../../Reviews/Reviews\"));\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user.user,\r\n    cart_p: state.cart.products,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    saveCartPToState: (products) => dispatch(setCart(products)),\r\n    saveUserToState: (user) => dispatch(setUser(user)),\r\n  };\r\n};\r\nfunction ProductDetails({\r\n  user,\r\n  match,\r\n  cart_p,\r\n  saveUserToState,\r\n  saveCartPToState,\r\n}) {\r\n  const [product, setProduct] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [currentSelectedImage, setCurrentSelectedImage] = useState(null);\r\n  const [reviewRating, setReviewRating] = useState(5);\r\n  const [reviewText, setReviewText] = useState(\"\");\r\n  const [reviewUsers, setReviewUsers] = useState({});\r\n\r\n  const getAllReviews = (tP) => {\r\n    return new Promise((resolve) => {\r\n      let revUsers = reviewUsers;\r\n      tP.reviews.forEach(async (rev, i) => {\r\n        let u = await get(`/userDetails/${rev.addedBy}`);\r\n        reviewUsers[rev.addedBy] = u;\r\n\r\n        if (i + 1 === tP.reviews.length) {\r\n          resolve(revUsers);\r\n        }\r\n      });\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    const saveProduct = async () => {\r\n      let tP = await get(`/product/${match.params.id}`);\r\n      setProduct(tP);\r\n      setCurrentSelectedImage(tP.images[0]);\r\n      if (tP.reviews.length) {\r\n        console.log(\"here\");\r\n        let a = await getAllReviews(tP);\r\n        setReviewUsers(a);\r\n        setTimeout(() => {\r\n          setLoading(false);\r\n        }, 30);\r\n      } else {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    saveProduct();\r\n  }, []);\r\n\r\n  const nextImageSelect = (i) => {\r\n    setCurrentSelectedImage(product.images[i]);\r\n  };\r\n  const addToCart = async (p) => {\r\n    if (cart_p.findIndex((pr) => pr._id === p._id) > -1) {\r\n      warningNotification(\"Already in the cart\");\r\n      return;\r\n    }\r\n    let item = cart_p;\r\n    item.push(p);\r\n    let pIDs = item.map((p) => p._id);\r\n    if (!localStorage.getItem(\"i_hash\")) {\r\n      localStorage.setItem(\"cart_p\", JSON.stringify(pIDs));\r\n      saveCartPToState(item);\r\n      successNotification(\"Addedd to cart\");\r\n    } else {\r\n      let formData = new FormData();\r\n      formData.append(\"cart\", p._id);\r\n      formData.append(\"action\", \"add\");\r\n      try {\r\n        let user = await put(\r\n          \"/user\",\r\n          { body: formData },\r\n          true,\r\n          \"multipart/form-data\"\r\n        );\r\n        saveUserToState(user);\r\n        saveCartPToState(item);\r\n        successNotification(\"Addedd to cart\");\r\n      } catch (e) {\r\n        failureNotification(\"Some Error Occured\");\r\n        return;\r\n      }\r\n    }\r\n  };\r\n  const reviewTextChange = (e) => {\r\n    setReviewText(e.target.value);\r\n  };\r\n  const postReview = (e) => {\r\n    if (localStorage.getItem(\"i_hash\")) {\r\n      post(\r\n        \"/product/review\",\r\n        {\r\n          body: {\r\n            rating: reviewRating,\r\n            text: reviewText,\r\n            pId: product._id,\r\n          },\r\n        },\r\n        true\r\n      )\r\n        .then((product) => {\r\n          setProduct(product);\r\n          setReviewUsers([user, ...reviewUsers]);\r\n        })\r\n        .catch(console.log);\r\n    } else {\r\n      failureNotification(\"Please Login First\");\r\n    }\r\n  };\r\n  if (loading) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div className=\"productDetails\">\r\n      <div className=\"aboutProduct\">\r\n        <div className=\"dImageContainer\">\r\n          <div className=\"selectedDImage\">\r\n            <img\r\n              src={`${productPicUrl}/${currentSelectedImage}`}\r\n              className=\"dImage\"\r\n              alt=\"productPic Current\"\r\n            />\r\n          </div>\r\n          <div className=\"otherImagesContainer\">\r\n            {product &&\r\n              product.images.map((image, i) => {\r\n                return (\r\n                  <img\r\n                    key={i}\r\n                    alt=\"product pic\"\r\n                    onClick={() => nextImageSelect(i)}\r\n                    src={`${productPicUrl}/${image}`}\r\n                    className=\"otherDImage\"\r\n                  />\r\n                );\r\n              })}\r\n          </div>\r\n        </div>\r\n        <div className=\"ddetails\">\r\n          <h2>{product && product.name}</h2>\r\n          <span className=\"starRating\">\r\n            <StarRatingComponent\r\n              name=\"rate1\"\r\n              starCount={5}\r\n              value={\r\n                product.reviews.reduce((acc, item) => acc + item.rating, 0) /\r\n                product.reviews.length\r\n              }\r\n            />\r\n          </span>\r\n          <hr />\r\n          <h3>Price: Nrs. {product && product.price}</h3>\r\n          <h4>Type: {product && product.pType}</h4>\r\n          <h5>Variety: {product && product.variety}</h5>\r\n          <span>\r\n            {product.quantity - (product.sold || 0)} remaining in stock\r\n          </span>\r\n          <hr />\r\n          {product.quantity - (product.sold || 0) > 0 ? (\r\n            <button\r\n              onClick={() => addToCart(product)}\r\n              style={\r\n                cart_p.findIndex((p) => p._id === product._id) > -1\r\n                  ? { backgroundColor: \"var(--main-color)\", color: \"white\" }\r\n                  : null\r\n              }\r\n            >\r\n              {cart_p.findIndex((p) => p._id === product._id) > -1\r\n                ? \"Already in Cart\"\r\n                : \"Add to Cart\"}\r\n            </button>\r\n          ) : null}\r\n\r\n          <hr />\r\n          {isAuthorized(user) ? (\r\n            <Link to={`/admin/post/updateProduct/${product._id}`}>\r\n              <button>Update</button>\r\n            </Link>\r\n          ) : null}\r\n          <hr />\r\n        </div>\r\n        <Suspense fallback={<h1>Loading</h1>}>\r\n          <Reviews\r\n            reviews={product.reviews}\r\n            reviewRating={reviewRating}\r\n            reviewUsers={reviewUsers}\r\n            setReviewRating={setReviewRating}\r\n            postReview={postReview}\r\n            reviewTextChange={reviewTextChange}\r\n          />\r\n        </Suspense>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDetails);\r\n","import React from \"react\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\n\r\nimport \"./SideNav.css\";\r\n\r\nexport default function SideNav({ name, sideNavOpen,currentSideNavLink, match }) {\r\n \r\n  return (\r\n    <div className=\"dashNav\" style = {sideNavOpen? {left: '0%'}: {left: '-100%'}}>\r\n      <h2> <Link to={`${match.url}`}>Hellow {name}</Link></h2>\r\n      <div className=\"analytics\">\r\n        <h3 className=\"headingLink\">Analytics</h3>\r\n        <ul>\r\n          <Link to={`${match.url}/analytics/products`}>\r\n            <li className = {currentSideNavLink === '/analytics/products'?'sideNavLinkActive':null }>Products</li>\r\n          </Link>\r\n        </ul>\r\n      </div>\r\n      <div className=\"post\">\r\n        <h3 className=\"headingLink\">Post</h3>\r\n        <ul>\r\n          <Link to={`${match.url}/post/addProduct`}>\r\n            <li className = {currentSideNavLink === '/post/addProduct'?'sideNavLinkActive':null }>Add Product</li>\r\n          </Link>\r\n          <Link to={`${match.url}/post/postAds`}>\r\n            <li className = {currentSideNavLink === '/post/postAds'?'sideNavLinkActive':null }>Post Adds</li>\r\n          </Link>\r\n        </ul>\r\n      </div>\r\n      <div className=\"profile\">\r\n        <h3 className=\"headingLink\">Profile</h3>\r\n        <ul>\r\n          <Link to={`${match.url}`}>\r\n            <li className = {currentSideNavLink === ''?'sideNavLinkActive':null }>My Profile</li>\r\n          </Link>\r\n          <Link to={`${match.url}/boughtHistory`}>\r\n            <li className = {currentSideNavLink === '/boughtHistory'?'sideNavLinkActive':null }>Bought History</li>\r\n          </Link>\r\n          <Link to={`${match.url}/update`}>\r\n            <li className = {currentSideNavLink === '/update'?'sideNavLinkActive':null }>Update Profile</li>\r\n          </Link>\r\n        </ul>\r\n      </div>\r\n      <div className=\"admins\">\r\n        <ul>\r\n          <Link to={`${match.url}/admins`}>\r\n            <li className = {currentSideNavLink === '/admins'?'sideNavLinkActive':null }>Admins</li>\r\n          </Link>\r\n        </ul>\r\n      </div>\r\n      <Link to= '/'><button className = 'gotoHome'>GoTo Home</button></Link>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport './NavTop.css'\r\nimport Wine from '../../../images/wine.png'\r\nimport { Link } from 'react-router-dom';\r\nimport { profilePicUrl } from '../../../utilities/urls';\r\nexport default function NavTop({user, openSideNav, sideNavOpen, match}){\r\n\r\nconst navTopStyle = {\r\n    justifyContent: 'center',\r\n    width: '100%'\r\n}\r\n\r\n    return (\r\n   \r\n        <div className = 'navTop' style = {!sideNavOpen?navTopStyle: null }>\r\n        <div className = 'sideNavOpen'>\r\n        <i className = 'fa fa-align-right fa-2x' onClick = {()=>{openSideNav()}}></i>\r\n        </div>\r\n         <Link to  = {match.url}><img className = 'profilePicture' src = {(user && user.image)? `${profilePicUrl}/${user.image}` : Wine} /></Link> \r\n\r\n\r\n        </div>\r\n\r\n  \r\n    )\r\n}","import React, { useRef, useState } from \"react\";\r\nimport \"./AddProduct.css\";\r\nimport {\r\n  failureNotification,\r\n  successNotification,\r\n} from \"../../../../utilities/toast\";\r\nimport { post } from \"../../../../utilities/http\";\r\nimport { setProducts } from \"../../../../reduxMgmt/actions/actions\";\r\nimport { connect } from \"react-redux\";\r\nconst addProductFormDetails = {\r\n  name: null,\r\n  price: null,\r\n  quantity: null,\r\n  images: [],\r\n  pType: \"wine\",\r\n  variety: null,\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    products: state.product.products,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    saveProductToState: (products) => dispatch(setProducts(products)),\r\n  };\r\n};\r\n\r\nfunction AddProduct({ products, saveProductToState, history }) {\r\n  const productImage = useRef(null);\r\n  const [formDetails, setFormDetails] = useState({ ...addProductFormDetails });\r\n  const [submitted, setSubmitted] = useState(false);\r\n  const formChange = (e) => {\r\n    let { name, value } = e.target;\r\n    if (name === \"price\" || name === \"quantity\") {\r\n      value = +value;\r\n    }\r\n    if (name === \"images\") {\r\n      let images = formDetails.images;\r\n      images.push(e.target.files[0]);\r\n      setFormDetails({ ...formDetails, images });\r\n    } else {\r\n      setFormDetails({ ...formDetails, [name]: value });\r\n    }\r\n  };\r\n  const deleteImage = (i) => {\r\n    let images = formDetails.images;\r\n    images.splice(i, 1);\r\n    setFormDetails({ ...formDetails, images });\r\n  };\r\n  const add = async (e) => {\r\n    e.preventDefault();\r\n    setSubmitted(true)\r\n    try{\r\n      let test = validate();\r\n      let formData = new FormData();\r\n      let { name, price, variety, pType, quantity, images } = formDetails;\r\n      if (name) formData.append(\"name\", name);\r\n      if (price) formData.append(\"price\", price);\r\n      if (variety) formData.append(\"variety\", variety);\r\n      if (pType) formData.append(\"pType\", pType);\r\n      if (quantity) formData.append(\"quantity\", quantity);\r\n      if (images.length) {\r\n        images.forEach((image) => {\r\n          formData.append(\"images\", image);\r\n        });\r\n      }\r\n      if (test) {\r\n        let product = await post(\r\n          \"/product/\",\r\n          { body: formData },\r\n          true,\r\n          \"multipart/form-data\"\r\n        );\r\n        setSubmitted(false);\r\n        let prod = products;\r\n        prod.push(formDetails);\r\n        saveProductToState(prod);\r\n        successNotification(\"Successfully Added\");\r\n        setFormDetails(addProductFormDetails);\r\n        setFormDetails({ ...formDetails, images: [] });\r\n        history.push('/');\r\n      }\r\n    }\r\n    catch(e){\r\n      setSubmitted(false);\r\n    }\r\n  };\r\n  const validate = () => {\r\n    for (const item in formDetails) {\r\n      if (!formDetails[item]) {\r\n        failureNotification(`${item} should be present`);\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n  const addMoreImage = () => {\r\n    productImage.current.click();\r\n  };\r\n  return (\r\n    <div className=\"addProduct\">\r\n      <h2>Add Product</h2>\r\n\r\n      <form className=\"productForm\" method=\"post\" onSubmit={add}>\r\n        <label>Name</label>\r\n        <input\r\n          onChange={formChange}\r\n          type=\"text\"\r\n          name=\"name\"\r\n          defaultValue={formDetails.name}\r\n        />\r\n        <label>Price</label>\r\n        <input\r\n          type=\"number\"\r\n          onChange={formChange}\r\n          name=\"price\"\r\n          defaultValue={formDetails.price}\r\n        />\r\n        <label>Quantity</label>\r\n        <input\r\n          type=\"number\"\r\n          onChange={formChange}\r\n          name=\"quantity\"\r\n          defaultValue={formDetails.quantity}\r\n        />\r\n        <label>Variety</label>\r\n        <input\r\n          onChange={formChange}\r\n          name=\"variety\"\r\n          placeholder=\"Sparkling, Red, Sweet, Rose, etc.\"\r\n          defaultValue={formDetails.variety}\r\n        />\r\n        <label>Type</label>\r\n        <select name=\"pType\" onChange = {formChange}>\r\n          <option value=\"wine\">Wine</option>\r\n          <option value=\"beer\">Beer</option>\r\n        </select>\r\n        <label>Images</label>\r\n        <input\r\n          type=\"file\"\r\n          className=\"pImageAdd\"\r\n          ref={productImage}\r\n          name=\"images\"\r\n          onChange={formChange}\r\n          multiple=\"multiple\"\r\n        />\r\n        <div className=\"imageSelectedForProduct\">\r\n          <div className=\"addMoreImageForProduct\" onClick={addMoreImage}>\r\n            <i className=\"addMoreIcon fa fa-plus fa-2x\" />\r\n          </div>\r\n          {formDetails.images.map((image, i) => {\r\n            return (\r\n              <div key={i} className=\"individualImageContainer\">\r\n                <img\r\n                  className=\"individualImages\"\r\n                  src={URL.createObjectURL(image)}\r\n                />\r\n                <i\r\n                  className=\"deleteImage fa fa-trash\"\r\n                  onClick={() => deleteImage(i)}\r\n                />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        <button className={\"productAddButton \" + (submitted? \"clicked\": null) } onClick={submitted? null: add}>\r\n          Add\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddProduct);\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport \"./UpdateProduct.css\";\r\nimport {\r\n  failureNotification,\r\n  successNotification,\r\n} from \"../../../../utilities/toast\";\r\nimport { get, put } from \"../../../../utilities/http\";\r\nimport { setProducts } from \"../../../../reduxMgmt/actions/actions\";\r\nimport { productPicUrl } from \"../../../../utilities/urls\";\r\nconst updateProductDetails = {\r\n  name: null,\r\n  price: null,\r\n  quantity: null,\r\n  images: [],\r\n  pType: \"wine\",\r\n  variety: null,\r\n};\r\n\r\nexport default function UpdateProduct({match, history}) {\r\n  const [product, setProduct] = useState(null);\r\n  const productImage = useRef(null);\r\n  const [formDetails, setFormDetails] = useState({ ...updateProductDetails });\r\n  const [alreadyImage, setAlreadyImage] = useState([])\r\n  const [removeImage, setRemoveImage] = useState([])\r\n  useEffect(()=>{\r\n      get(`/product/${match.params.id}`)\r\n      .then(product=>{\r\n        setProduct(product);\r\n        setAlreadyImage(product.images)\r\n        setFormDetails({\r\n          name: product.name,\r\n          price: product.price,\r\n          quantity: product.quantity,\r\n          images: [],\r\n          pType: product.pType,\r\n          variety: product.variety,\r\n\r\n        })\r\n      })\r\n      .catch(err => failureNotification(\"Some Failure Occured!\"))\r\n    }, [])\r\n  const formChange = (e) => {\r\n    let { name, value } = e.target;\r\n    if (name === \"images\") {\r\n      let images = formDetails.images;\r\n      images.push(e.target.files[0]);\r\n      setFormDetails({ ...formDetails, images });\r\n    } else {\r\n      setFormDetails({ ...formDetails, [name]: value });\r\n    }\r\n  };\r\n  const deleteImage = (i) => {\r\n    let images = formDetails.images;\r\n    images.splice(i, 1);\r\n    setFormDetails({ ...formDetails, images });\r\n  };\r\n  const update = async (e) => {\r\n    e.preventDefault();\r\n  \r\n    let { name, price, variety, pType, quantity, images } = formDetails;\r\n    let formData = new FormData();\r\n    if (name && name.length) formData.append(\"name\", name);\r\n    if (price) formData.append(\"price\", price);\r\n    if (variety) formData.append(\"variety\", variety);\r\n    if (pType) formData.append(\"pType\", pType);\r\n    if (quantity) formData.append(\"quantity\", quantity);\r\n    if(removeImage.length) {\r\n      formData.append(\"removeImage[]\", removeImage)\r\n    }\r\n    if (images.length) {\r\n      images.forEach((image) => {\r\n        formData.append(\"images\", image);\r\n      });\r\n    }\r\n    let updatedProduct = await put(\r\n      `/product/${match.params.id}`,\r\n      { body: formData },\r\n      true,\r\n      \"multipart/form-data\"\r\n    );\r\n    history.push(`/shop/${product._id}`)\r\n  };\r\n const removeAlreadyImage = (image) =>{\r\n   setRemoveImage([...removeImage, image]);\r\n   let removeImg = alreadyImage;\r\n   removeImg.splice(alreadyImage.indexOf(image),1);\r\n   setAlreadyImage(removeImg)\r\n }\r\n  const updateMoreImage = () => {\r\n    productImage.current.click();\r\n  };\r\n\r\n  return (\r\n    <div className=\"updateProduct\">\r\n      <h2>Update Product</h2>\r\n      \r\n      <form className=\"productForm\" method=\"post\" onSubmit={update}>\r\n        <label>Name</label>\r\n        <input\r\n          onChange={formChange}\r\n          type=\"text\"\r\n          name=\"name\"\r\n          defaultValue={formDetails.name}\r\n        />\r\n        <label>Price</label>\r\n        <input\r\n          type=\"number\"\r\n          onChange={formChange}\r\n          name=\"price\"\r\n          defaultValue={formDetails.price}\r\n        />\r\n        <label>Quantity</label>\r\n        <input\r\n          type=\"number\"\r\n          onChange={formChange}\r\n          name=\"quantity\"\r\n          defaultValue={formDetails.quantity}\r\n        />\r\n        <label>Variety</label>\r\n        <input\r\n          onChange={formChange}\r\n          name=\"variety\"\r\n          placeholder=\"Sparkling, Red, Sweet, Rose, etc.\"\r\n          defaultValue={formDetails.variety}\r\n        />\r\n        <label>Type</label>\r\n        <select name=\"pType\" onChange = {formChange} defaultValue = {formDetails.pType}>\r\n          <option value=\"wine\">Wine</option>\r\n          <option value=\"beer\">Beer</option>\r\n        </select>\r\n      \r\n          <label>Present Images</label>\r\n          <div className=\"imageSelectedForProduct\">\r\n          {alreadyImage.map((image, i) => {\r\n            return (\r\n              <div key={i} className=\"individualImageContainer\">\r\n                <img\r\n                  className=\"individualImages\"\r\n                  src={`${productPicUrl}/${image}`}\r\n                />\r\n                <i\r\n                  className=\"deleteImage fa fa-trash\"\r\n                  onClick={() => removeAlreadyImage(image)}\r\n                />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        <label>Images</label>\r\n        <input\r\n          type=\"file\"\r\n          className=\"pImageAdd\"\r\n          ref={productImage}\r\n          name=\"images\"\r\n          onChange={formChange}\r\n          multiple=\"multiple\"\r\n        />\r\n        <div className=\"imageSelectedForProduct\">\r\n          <div className=\"addMoreImageForProduct\" onClick={updateMoreImage}>\r\n            <i className=\"addMoreIcon fa fa-plus fa-2x\" />\r\n          </div>\r\n          {formDetails.images.map((image, i) => {\r\n            return (\r\n              <div key={i} className=\"individualImageContainer\">\r\n                <img\r\n                  className=\"individualImages\"\r\n                  src={URL.createObjectURL(image)}\r\n                />\r\n                <i\r\n                  className=\"deleteImage fa fa-trash\"\r\n                  onClick={() => deleteImage(i)}\r\n                />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        <button className=\"productUpdateButton\" onClick={update}>\r\n          Update\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useRef, useState } from \"react\";\r\nimport { post } from \"../../../../utilities/http\";\r\nimport {\r\n  failureNotification,\r\n  successNotification,\r\n} from \"../../../../utilities/toast\";\r\nimport \"./PostAds.css\";\r\n\r\nconst postAdFormDetails = {\r\n  title: null,\r\n  image: null,\r\n};\r\nexport default function PostAds({ history }) {\r\n  const adImage = useRef(null);\r\n  const [formDetails, setFormDetails] = useState({ ...postAdFormDetails });\r\n  const formChange = (e) => {\r\n    let { value, name } = e.target;\r\n    if (name === \"image\") {\r\n      setFormDetails({ ...formDetails, image: e.target.files[0] });\r\n    } else {\r\n      setFormDetails({\r\n        ...formDetails,\r\n        [name]: value,\r\n      });\r\n    }\r\n  };\r\n  const postAd = (e) => {\r\n    e.preventDefault();\r\n    if (!formDetails.image) {\r\n      failureNotification(\"Add an Image please\");\r\n      return;\r\n    }\r\n    let formData = new FormData();\r\n    if (formDetails.title) formData.append(\"title\", formDetails.title);\r\n    if (formDetails.image) formData.append(\"image\", formDetails.image);\r\n    post(\"/ad\", { body: formData }, true, \"multipart/form-data\")\r\n      .then((data) => {\r\n        successNotification(\"Posted\");\r\n        history.push(\"/\");\r\n      })\r\n      .catch((err) => failureNotification(\"Some Error Occured\"));\r\n  };\r\n\r\n  return (\r\n    <div className=\"postAds\">\r\n      <h2>Post Ad</h2>\r\n      <form className=\"adForm\" method=\"post\" onSubmit={postAd}>\r\n        <label>Title</label>\r\n        <input\r\n          onChange={formChange}\r\n          type=\"text\"\r\n          name=\"title\"\r\n          defaultValue={formDetails.name}\r\n        />\r\n        <label>Image</label>\r\n        <input\r\n          type=\"file\"\r\n          className=\"adImage\"\r\n          ref={adImage}\r\n          name=\"image\"\r\n          onChange={formChange}\r\n        />\r\n        <button className=\"postAdButton\" onClick={postAd}>\r\n          Post\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useRef, useState } from \"react\";\r\nimport \"./ProfileUpdate.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { put } from \"../../../utilities/http\";\r\nimport { setUser } from \"../../../reduxMgmt/actions/actions\";\r\nimport { profilePicUrl } from \"../../../utilities/urls\";\r\nimport { successNotification } from \"../../../utilities/toast\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Wine from '../../../images/wine.png'\r\nimport { isAuthorized } from \"../../../utilities/auth.middleware\";\r\n\r\nconst updateFormDetails = {\r\n  fullName: null,\r\n  address: null,\r\n  number: null,\r\n  image: null,\r\n  password: null,\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user.user,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    saveUserToState: (user) => dispatch(setUser(user)),\r\n  };\r\n};\r\nfunction ProfileUpdate({ user, saveUserToState, history }) {\r\n  const imageChange = useRef(null);\r\n  const [formDetails, setFormDetails] = useState({ ...updateFormDetails });\r\n\r\n  const detailsChange = (e) => {\r\n    let { name, value, type } = e.target;\r\n    if (type === \"file\") {\r\n      value = e.target.files[0];\r\n    }\r\n    setFormDetails({ ...formDetails, [name]: value });\r\n  };\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    let formData = new FormData();\r\n    if (formDetails.fullName) formData.append(\"fullName\", formDetails.fullName);\r\n    if (formDetails.number) formData.append(\"number\", formDetails.number);\r\n    if (formDetails.address) formData.append(\"address\", formDetails.address);\r\n    if (formDetails.password) formData.append(\"password\", formDetails.password);\r\n    if (formDetails.image) formData.append(\"image\", formDetails.image);\r\n    let user = await put(\r\n      \"/user\",\r\n      { body: formData },\r\n      true,\r\n      \"multipart/form-data\"\r\n    );\r\n    if (user) {\r\n      saveUserToState(user);\r\n      successNotification(\"Successfully Updated!\");\r\n      if(isAuthorized(user)){\r\n        history.push('/admin')\r\n      }\r\n      else{\r\n        history.push(`/profile/${user._id}`);\r\n      }\r\n    }\r\n  };\r\n  const imageSelect = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!formDetails.image) {\r\n      imageChange.current.click();\r\n    } else {\r\n      setFormDetails({ ...formDetails, image: \"\" });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"\">\r\n      <form method=\"put\" onSubmit={submit}>\r\n        <div className=\"profileUpdator\">\r\n          <div className=\"pImageContainer\">\r\n            <img className=\"pImage\" src={user.image? `${profilePicUrl}/${user.image}` : Wine} />\r\n\r\n            <i\r\n              className={`uploaderIcon fa ${\r\n                formDetails.image ? \"fa-arrow-left\" : \"fa-camera\"\r\n              }`}\r\n              onClick={imageSelect}\r\n            />\r\n          </div>\r\n          <hr />\r\n          <div className=\"pUpdateContainer\">\r\n            <input\r\n              type=\"file\"\r\n              ref={imageChange}\r\n              name=\"image\"\r\n              onChange={detailsChange}\r\n              className=\"imageSelector\"\r\n            ></input>\r\n            <label>FullName</label>\r\n            <h2>\r\n              <input\r\n                type=\"text\"\r\n                className=\"editor\"\r\n                onChange={detailsChange}\r\n                name=\"fullName\"\r\n                placeholder=\"FullName\"\r\n                defaultValue={user.fullName}\r\n              />\r\n            </h2>\r\n            <label>Username</label>\r\n            <p>{user.userName} (Uneditable)</p>\r\n            <label>Email</label>\r\n            <p>{user.email} (Uneditable)</p>\r\n            <label>Address</label>\r\n            <p>\r\n              <input\r\n                type=\"text\"\r\n                className=\"editor\"\r\n                onChange={detailsChange}\r\n                name=\"address\"\r\n                placeholder=\"Address\"\r\n                defaultValue={user.address}\r\n              />\r\n            </p>\r\n            <label>Password</label>\r\n            <p>\r\n              <input\r\n                type=\"password\"\r\n                className=\"editor\"\r\n                onChange={detailsChange}\r\n                name=\"password\"\r\n                placeholder=\"Password\"\r\n                defaultValue={\"**********\"}\r\n              />\r\n            </p>\r\n            <label>Number</label>\r\n            <p>\r\n              <input\r\n                type=\"tel\"\r\n                className=\"editor\"\r\n                onChange={detailsChange}\r\n                name=\"number\"\r\n                placeholder=\"Ph. Number\"\r\n                defaultValue={user.number}\r\n              />\r\n            </p>\r\n            <label>Image</label>\r\n            <p>\r\n              <input\r\n                type=\"file\"\r\n                className=\"editor\"\r\n                onChange={detailsChange}\r\n                name=\"image\"\r\n                placeholder=\"image\"\r\n              />\r\n              <img\r\n                src={\r\n                  formDetails.image\r\n                    ? URL.createObjectURL(formDetails.image)\r\n                    : user.image? \r\n                    `${profilePicUrl}/${user.image}`\r\n                    :Wine\r\n                }\r\n                className=\"editProfileProfileImage\"\r\n              />\r\n            </p>\r\n          </div>\r\n          <button className=\"updateProfileButton\" onClick={submit}>\r\n            Update\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(ProfileUpdate));\r\n","import React from 'react';\r\nimport './ProfileDetails.css'\r\nimport Wine from '../../../images/wine.png'\r\nimport { connect } from 'react-redux';\r\nimport { profilePicUrl } from '../../../utilities/urls';\r\n\r\nconst mapStateToProps = state =>{\r\n    return {\r\n        user: state.user.user\r\n    }\r\n}\r\n\r\nfunction ProfileDetails({user}){\r\n    return (\r\n        <div className = 'profileContainer'>\r\n        <div className = 'profileDetails'>\r\n            <div className = 'pImageContainer'>\r\n                <img className = 'pImage' src = {user.image? `${profilePicUrl}/${user.image}` : Wine} />\r\n            </div>\r\n            <div className = 'pDetailsContainer'>\r\n                <h2>{user.fullName}</h2>\r\n                <p>{user.userName}</p>\r\n                <p>{user.email}</p>\r\n                <p>{user.address || \"No Address Kept\"}</p>\r\n                <p>{user.number}</p>\r\n            </div>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\nexport default connect(mapStateToProps)(ProfileDetails);","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './ProductAnalytics.css';\r\n\r\n\r\nexport default function ProductAnalytics({min, max, products, goToProduct,changePageNumber }){\r\n\r\nreturn (\r\n    <div className = 'productAnalytics'>\r\n  \r\n     <div className = 'productNav'>\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Product Name</th>\r\n                        <th>Sold</th>\r\n                        <th>Remaining</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        products.map(product=>{\r\n                            return (\r\n                                <tr key = {product._id} onClick = {() => goToProduct(product._id)}>\r\n                               \r\n                                    <td>{product.name}</td>\r\n                                    <td>{product.sold|| 0}</td>\r\n                                    <td>{(product.quantity - (product.sold|| 0))}</td>\r\n                               \r\n                                </tr>\r\n                            )\r\n                        })\r\n                    }\r\n                \r\n                    </tbody>\r\n            </table>\r\n\r\n            <div className = \"analyticsPaginate\">\r\n            <button style = {min? {backgroundColor: 'gray'}: null}  onClick = {() => changePageNumber('prev')}>Prev</button>\r\n            <button style = {max? {backgroundColor: 'gray'}: null}  onClick = {() => changePageNumber('next')}>Next</button>\r\n            </div>\r\n     </div>\r\n    </div>\r\n)\r\n}","import React from \"react\";\r\n\r\nimport \"./AddAdmins.css\";\r\n\r\nexport default function AddAdmins({ addAdmin,submitted, addAdminFormChange, adminForm }) {\r\n  return (\r\n    <div className=\"addAdmins\">\r\n      <form className=\"addAdminForm\" onSubmit={addAdmin}>\r\n        <h2>Add Admin</h2>\r\n        <label>Username</label>\r\n        <input\r\n          type=\"text\"\r\n          className=\"formInput\"\r\n          name=\"userName\"\r\n          onChange={addAdminFormChange}\r\n          value = {adminForm.userName}\r\n        />\r\n        <label>Fullname</label>\r\n        <input\r\n          type=\"text\"\r\n          className=\"formInput\"\r\n          name=\"fullName\"\r\n          onChange={addAdminFormChange}\r\n          value = {adminForm.fullName}\r\n        />\r\n        <label>Role</label>\r\n        <select name = \"role\" onChange = {addAdminFormChange} defaultValue = \"ADMIN_S\">\r\n          <option value=\"ADMIN_P\" >ADMIN_P</option>\r\n          <option value=\"ADMIN_S\">ADMIN_S</option>\r\n        </select>\r\n        <label>Email</label>\r\n        <input\r\n          type=\"text\"\r\n          className=\"formInput\"\r\n          name=\"email\"\r\n          onChange={addAdminFormChange}\r\n          value = {adminForm.email}\r\n        />\r\n        <label>Password</label>\r\n        <input\r\n          type=\"password\"\r\n          className=\"formInput\"\r\n          name=\"password\"\r\n          onChange={addAdminFormChange}\r\n          value = {adminForm.password}\r\n        />\r\n        <button className={\"addAdminFormButton \"+ (submitted? \"clicked\": null)} onClick = {submitted? null: addAdmin}>Add</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport './AdminDisplay.css'\r\n\r\n\r\nexport default function AdminDisplay({admins, mainAdmin, deleteAdmin, user}){\r\n    return (\r\n        <div className = 'adminsDisplay'>\r\n            <h3>All Admins</h3>\r\n            <div className = 'label'>\r\n                <span>Primary Admin</span>\r\n                <div className = 'primaryAdmin'></div>\r\n                <span>Secondary Admin</span>\r\n                <div className = 'secondaryAdmin'></div>\r\n            </div>\r\n            <ul>\r\n                {\r\n                    admins.map((admin, i)=>{\r\n               \r\n                      return (     \r\n                        <li className = {(admin.role === 'ADMIN_P')? \"primaryAdmin\": \"secondaryAdmin\"} key = {i}>\r\n                        {admin.userName} {admin.userName === user.userName? \"(YOU)\": null}\r\n                       {\r\n                          mainAdmin && (admin._id!==user._id)?\r\n                           <div className = 'deleteAdmin'>\r\n                           <i className = 'fa fa-trash' onClick = {() => deleteAdmin(admin._id)} />\r\n                           </div>\r\n                           :null\r\n                       }\r\n                         </li>\r\n                      )\r\n                    })\r\n                }\r\n             \r\n            </ul>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './Admins.css'\r\n\r\nimport {isMainAdmin} from '../../../utilities/auth.middleware'\r\nimport AddAdmins from '../../../views/AdminPanel/AddAdmins/AddAdmins';\r\n\r\nimport {get, post, remove} from '../../../utilities/http';\r\nimport {successNotification} from '../../../utilities/toast'\r\nimport AdminDisplay from '../../../views/AdminPanel/AdminDisplay/AdminDisplay';\r\n\r\nconst mapStateToProps = state =>{\r\n    return {\r\n        user: state.user.user,\r\n    }\r\n}\r\nconst newAdminFormDetails = {\r\n    userName: null,\r\n    fullName: null,\r\n    password: null,\r\n    role: \"ADMIN_S\"\r\n}\r\nfunction Admins({user}){\r\n    const [formDetails, setFormDetails] = useState({...newAdminFormDetails})\r\n    const [allAdmins, setAllAdmins] =useState([]);\r\n    const [submitted, setSubmitted] = useState(false)\r\n    useEffect(()=>{\r\n        get('/adminAuth', {} ,true)\r\n        .then(admins=>{\r\n            setAllAdmins(admins)\r\n        })\r\n        .catch(console.log)\r\n    }, []);\r\n\r\n    const deleteAdmin = id =>{\r\n        \r\n        remove(`/adminAuth/${id}`, {}, true)\r\n        .then(_=>{\r\n            let newA = allAdmins;\r\n            newA.splice(newA.findIndex(p=>p._id === id), 1)\r\n            setAllAdmins(newA)\r\n        })\r\n        .catch(console.log)\r\n    }\r\n    const addAdminFormChange = e =>{\r\n        let {name, value} = e.target;\r\n        setFormDetails({...formDetails, [name]: value})\r\n    }\r\n    const addAdmin = e =>{\r\n        e.preventDefault();\r\n        setSubmitted(true);\r\n        post('adminAuth', {body:formDetails}, true)\r\n        .then(admin=>{\r\n            successNotification('Auccessfully added');\r\n            setFormDetails({...newAdminFormDetails})\r\n            setAllAdmins([...allAdmins, {\r\n                _id: admin._id,\r\n                image: admin._image,\r\n                fullName: admin.fullName,\r\n                role : admin.role,\r\n                userName: admin.userName\r\n            }]);\r\n            setSubmitted(false)\r\n        })\r\n        .catch(err=>{console.log(err); setSubmitted(false)})\r\n    }\r\n    return (\r\n       <>\r\n        <AdminDisplay admins = {allAdmins} mainAdmin = {isMainAdmin(user)} deleteAdmin = {deleteAdmin} user = {user}/>\r\n      {isMainAdmin(user)?\r\n        <AddAdmins  addAdmin = {addAdmin} submitted = {submitted} adminForm = {formDetails} addAdminFormChange  = {addAdminFormChange}/>\r\n        :null  \r\n    }\r\n       </>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps)(Admins);","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { get, post } from \"../../utilities/http\";\r\nimport \"./BoughtHistory.css\";\r\nimport { productPicUrl } from \"../../utilities/urls\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user.user,\r\n  };\r\n};\r\n\r\nfunction BoughtHistory({ user }) {\r\n  const [allBoughts, setAllBoughts] = useState({});\r\n  const [updated, setUpdated] = useState(false);\r\n\r\n  const getAllBougt = () => {\r\n    return new Promise((resolve) => {\r\n      user.bought.map(async (bought, i) => {\r\n        let bts;\r\n        let b = await get(`/bought/${bought}`, {}, true);\r\n        let date = b.createdAt.slice(0, 10);\r\n        b.products.map(async (pr) => {\r\n          let product = await get(`/product/${pr.product}`);\r\n          bts = allBoughts;\r\n          bts[date] = [\r\n            ...(bts[date] || []),\r\n            {\r\n              product,\r\n              boughtQuantity: pr.quantity,\r\n            },\r\n          ];\r\n          if (i + 1 === user.bought.length) {\r\n            resolve(bts);\r\n          }\r\n        });\r\n      });\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    getAllBougt().then((data) => {\r\n      setAllBoughts((allBoughts) => data);\r\n      setTimeout(() => {\r\n        setUpdated(true);\r\n      }, 20);\r\n    });\r\n  }, []);\r\n  let items = Object.keys(allBoughts).map((date) => {\r\n    return (\r\n      <>\r\n        <h3>{date}</h3>\r\n        <hr />\r\n        {allBoughts[date].map((p, i) => {\r\n          return (\r\n            <Link to={`/shop/${p.product._id}`}>\r\n              <div\r\n                className=\"boughtItems\"\r\n                key={i}\r\n                style={{\r\n                  backgroundImage: `url(${productPicUrl}/${p.product.images[0]})`,\r\n                  backgroundSize: \"cover\",\r\n                }}\r\n              >\r\n                <h2>{p.product.name}</h2>\r\n                <span>Bought: {p.boughtQuantity}</span>\r\n              </div>\r\n            </Link>\r\n          );\r\n        })}\r\n      </>\r\n    );\r\n  });\r\n  return <div className=\"boughtHistory\">{items}</div>;\r\n}\r\n\r\nexport default connect(mapStateToProps)(BoughtHistory);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./AdminPanel.css\";\r\nimport { Link, Route } from \"react-router-dom\";\r\nimport SideNav from \"../../views/Dashboard/Nav/SideNav\";\r\nimport NavTop from \"../../views/Dashboard/NavTop/NavTop\";\r\n\r\n\r\nimport AddProduct from \"./Post/AddProduct/AddProduct\";\r\nimport UpdateProduct from \"./Post/UpdateProduct/UpdateProduct\";\r\nimport PostAds from \"./Post/PostAds/PostAds\";\r\nimport ProfileUpdate from \"../Profile/ProfileUpdate/ProfileUpdate\";\r\nimport ProfileDetails from \"../Profile/ProfileDetails/ProfileDetails\";\r\n\r\nimport ProductAnalytics from \"../../views/AdminPanel/Analytics/ProductAnalytics/ProductAnalytics\";\r\nimport Admins from \"./Admins/Admins\";\r\nimport { setProducts } from \"../../reduxMgmt/actions/actions\";\r\nimport { connect } from \"react-redux\";\r\nimport { get } from \"../../utilities/http\";\r\nimport BoughtHistory from \"../BoughtHistory/BoughtHistory\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    products: state.product.products,\r\n    user: state.user.user\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>{\r\n  return {\r\n    saveProductToState: products => dispatch(setProducts(products))\r\n  }\r\n}\r\n\r\nfunction AdminPanel({ products, saveProductToState, user,history, match}) {\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n\r\n  const [totalP, settotalP] = useState(0)\r\n  const [sideNavOpen, setSideNavOpen] = useState(true);\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", handleResize);\r\n    get(`/product?pageNumber=${pageNumber}&itemsToShow=10`, {}, true)\r\n    .then(({products, count})  => {\r\n      saveProductToState(products);\r\n      settotalP(count)\r\n    })\r\n    .catch(console.log)\r\n  }, [pageNumber]);\r\n\r\nconst changePageNumber = (action) =>{\r\n  if(action === 'next'){\r\n      if(pageNumber !== Math.ceil(totalP/10)){\r\n          setPageNumber(pageNumber=>pageNumber+1)\r\n      }\r\n      else{\r\n        setPageNumber(pageNumber=>pageNumber)\r\n      }\r\n  }\r\n  else{\r\n    if(pageNumber!==1){\r\n      setPageNumber(pageNumber=>pageNumber-1)\r\n  }\r\n  else{\r\n    setPageNumber(pageNumber=>1)\r\n  }\r\n  }\r\n}\r\n  const handleResize = () => {\r\n    if (window.innerWidth < 500) setSideNavOpen(false);\r\n  };\r\n  const openSideNav = () => {\r\n    setSideNavOpen((sideNavOpen) => !sideNavOpen);\r\n  };\r\n\r\n  const goToProduct = id => {\r\n    history.push(`/shop/${id}`)\r\n  }\r\n  const postContentsStyle = {\r\n    width: '100%',\r\n    marginLeft: '0'\r\n}\r\n\r\nfunction AdminSubRoute({component:Component, ...rest}){\r\n  return (\r\n    <Route {...rest} render = {(props)=>{\r\n        return (\r\n          <>\r\n        <div className = 'sidenav'>\r\n      <SideNav name={user && user.userName} sideNavOpen={sideNavOpen} match = {match} currentSideNavLink = {rest.path.substring(6, rest.path.length)} />\r\n      </div><div className = 'postContents' style = {!sideNavOpen? postContentsStyle:null}>\r\n      <NavTop openSideNav={openSideNav} user = {user} match = {match} sideNavOpen={sideNavOpen} />\r\n          <div className = 'compContents'>\r\n          <Component {...props} products = {products} changePageNumber = { changePageNumber} goToProduct = {goToProduct} max = {pageNumber === Math.ceil(totalP/10)} min = {pageNumber === 1} />\r\n          </div>\r\n      </div>\r\n      \r\n          </>\r\n        )\r\n    }} />\r\n  )\r\n}\r\n  return (\r\n    <div className=\"adminPanel\">\r\n      <AdminSubRoute exact path = {match.url} component = {ProfileDetails} />\r\n      <AdminSubRoute path = {match.url + '/update'} component = {ProfileUpdate} />\r\n      <AdminSubRoute path = {match.url + '/analytics/products'} component = {ProductAnalytics}/>\r\n      <AdminSubRoute path = {match.url + '/post/addProduct'} component = {AddProduct} />\r\n      <AdminSubRoute path = {match.url + '/post/updateProduct/:id'} component = {UpdateProduct} />\r\n      <AdminSubRoute path = {match.url + '/admins'} component = {Admins} />\r\n      <AdminSubRoute path = {match.url + '/post/postAds'} component = {PostAds} />\r\n      <AdminSubRoute path = {match.url + '/boughtHistory'} component = {BoughtHistory} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AdminPanel)","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Login.css\";\r\nimport {post} from '../../utilities/http'\r\nimport { connect } from \"react-redux\";\r\nimport { setUser } from \"../../reduxMgmt/actions/actions\";\r\nimport { failureNotification, successNotification } from \"../../utilities/toast\";\r\nimport { isAuthorized } from \"../../utilities/auth.middleware\";\r\nconst loginFormDetails = {\r\n  eoru: \"\",\r\n  password: \"\",\r\n};\r\n\r\n\r\n\r\n//mapDispatchToProps\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    saveUserToStore: (user) => dispatch(setUser(user)),\r\n  };\r\n};\r\n\r\nfunction Login({history, saveUserToStore}) {\r\n  const [formDetails, setFormDetails] = useState({ ...loginFormDetails });\r\n  const [submitClicked, setSubmitClicked] = useState(false)\r\n  function formChange(e) {\r\n    let { name, value } = e.target;\r\n    setFormDetails({ ...formDetails, [name]: value });\r\n  }\r\n\r\n  async function login(e) {\r\n    e.preventDefault();\r\n    setSubmitClicked(true)\r\n    try{\r\n      let details = await post('/auth/signin', {body: formDetails});\r\n      localStorage.setItem(\"i_hash\", JSON.stringify(details.token));\r\n      saveUserToStore(details.user);\r\n      successNotification(`Welcome ${details.user.userName}`);\r\n      if(isAuthorized(details.user)){\r\n        successNotification(`Hello Admin!`);\r\n      }\r\n      history.push(\"/\");\r\n    }\r\n    catch(e){\r\n      failureNotification(e.response.data.msg)\r\n      setSubmitClicked(false)\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"login\">\r\n      <h2>Login</h2>\r\n      <form className=\"loginForm\" method=\"post\" onSubmit={login}>\r\n        <label>Email or Username</label>\r\n        <input\r\n          onChange={formChange}\r\n          type=\"text\"\r\n          name=\"eoru\"\r\n          defaultValue={formDetails.eoru}\r\n        />\r\n        <label>Password</label>\r\n        <input\r\n          type=\"password\"\r\n          onChange={formChange}\r\n          name=\"password\"\r\n          defaultValue={formDetails.password}\r\n        />\r\n\r\n        <button className=\"loginButton\" onClick={login} style = {submitClicked? {backgroundColor: 'gray'}: null} disabled = {submitClicked}>\r\n          Login\r\n        </button>\r\n      </form>\r\n      <div className=\"others\">\r\n        <p>\r\n          Don't Have an Account? Click <Link to=\"/Join\"> Here</Link>\r\n        </p>\r\n        <p>\r\n          Forgot your password? Click <Link to=\"/forgot-password\">Here</Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Login)","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Register.css\";\r\nimport {\r\n  failureNotification,\r\n  successNotification,\r\n} from \"../../utilities/toast\";\r\nimport { get, post } from \"../../utilities/http\";\r\nimport { connect } from \"react-redux\";\r\nimport { setUser } from \"../../reduxMgmt/actions/actions\";\r\n\r\n\r\n\r\n//mapDispatchToProps\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    saveUserToStore: (user) => dispatch(setUser(user)),\r\n  };\r\n};\r\n\r\nconst registerFormDetails = {\r\n  userName: \"\",\r\n  fullName: \"\",\r\n  email: \"\",\r\n  password: \"\",\r\n  number: \"\",\r\n};\r\n\r\nfunction Register({ saveUserToStore, history }) {\r\n  const [formDetails, setFormDetails] = useState({ ...registerFormDetails });\r\n  const [submitClicked, setSubmitClicked] = useState(false)\r\n  function formChange(e) {\r\n    let { name, value } = e.target;\r\n    setFormDetails({ ...formDetails, [name]: value });\r\n  }\r\n \r\n\r\n  async function register(e) {\r\n    e.preventDefault();\r\n    let test = await validate();\r\n    setSubmitClicked(true)\r\n    let msg;\r\n\r\n    if (test.msg.length) {\r\n      msg = test.msg;\r\n      failureNotification(msg);\r\n      setSubmitClicked(false)\r\n    } else {\r\n      try{\r\n        let details = await post(\"/auth/signup\", { body: formDetails });\r\n      localStorage.setItem(\"i_hash\", JSON.stringify(details.token));\r\n      saveUserToStore(details.user);\r\n      successNotification(`Welcome ${details.user.userName}`);\r\n      history.push(\"/\");\r\n      }\r\n      catch(e){\r\n        failureNotification(e)\r\n        setSubmitClicked(false)\r\n      }\r\n    }\r\n  }\r\n\r\n  async function validate() {\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    let test = re.test(formDetails.email.toLowerCase());\r\n\r\n    if (!test) {\r\n      return {\r\n        msg: \"Invalid Email\",\r\n      };\r\n    }\r\n\r\n    test = formDetails.password.length > 8 ? true : false;\r\n    if (!test) {\r\n      return {\r\n        msg: \"Password Length should be greater than 8\",\r\n      };\r\n    }\r\n    test = formDetails.userName.length > 5 ? true : false;\r\n    if (!test) {\r\n      return {\r\n        msg: \"UserName length should be greater than 5\",\r\n      };\r\n    }\r\n    test = formDetails.userName.indexOf(\" \") < 0 ? true : false;\r\n    if (!test) {\r\n      return {\r\n        msg: \"Username should not contain white spaces\",\r\n      };\r\n    }\r\n\r\n    let users = await get(\"/auth/\");\r\n\r\n    if (users.length > 0) {\r\n      let eIndex, uIndex;\r\n      eIndex = users.findIndex((user) => user.email === formDetails.email);\r\n\r\n      uIndex = users.findIndex((user) => user.email === formDetails.userName);\r\n      if (eIndex > -1 || uIndex > -1) {\r\n        return {\r\n          msg: \"User already Exists\",\r\n        };\r\n      }\r\n    }\r\n\r\n    return {\r\n      msg: \"\",\r\n    };\r\n  }\r\n  return (\r\n    <div className=\"register\">\r\n      <h2>Register</h2>\r\n      <p>\r\n        <span className=\"necessary\">*</span> fields are important\r\n      </p>\r\n      <form className=\"registerForm\" method=\"post\" onSubmit={register}>\r\n        <label>\r\n          Full Name <span className=\"necessary\">*</span>\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          onChange={formChange}\r\n          name=\"fullName\"\r\n          defaultValue={formDetails.fullName}\r\n        />\r\n        <label>\r\n          Username <span className=\"necessary\">*</span>\r\n        </label>\r\n        <input\r\n          onChange={formChange}\r\n          type=\"text\"\r\n          name=\"userName\"\r\n          defaultValue={formDetails.userName}\r\n        />\r\n        <label>\r\n          Email <span className=\"necessary\">*</span>\r\n        </label>\r\n        <input\r\n          onChange={formChange}\r\n          type=\"email\"\r\n          name=\"email\"\r\n          defaultValue={formDetails.email}\r\n        />\r\n        <label>\r\n          Password <span className=\"necessary\">*</span>\r\n        </label>\r\n        <input\r\n          type=\"password\"\r\n          onChange={formChange}\r\n          name=\"password\"\r\n          defaultValue={formDetails.password}\r\n        />\r\n        <label>Ph. Number</label>\r\n        <input\r\n          type=\"tel\"\r\n          onChange={formChange}\r\n          name=\"number\"\r\n          defaultValue={formDetails.number}\r\n        />\r\n        <button className=\"registerButton\" style = {submitClicked? {backgroundColor: 'gray'}: null} onClick={register} disabled = {submitClicked}>\r\n          Register\r\n        </button>\r\n      </form>\r\n      <div className=\"others\">\r\n        <p>\r\n          Already Have an Account? Click <Link to=\"/login\"> Here</Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Register);\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { post } from '../../utilities/http';\r\nimport { failureNotification, successNotification } from '../../utilities/toast';\r\nimport './ForgotPassword.css'\r\n\r\n\r\n\r\nexport default function ForgotPassword({history}){\r\n    const [eoru, setEoru] = useState(\"\");\r\n    const [submitted, setSubmitted] = useState(false)\r\n    function formChange(e) {\r\n      let {  value } = e.target;\r\n      setEoru(value)\r\n    }\r\n    function forgotPassword(e) {\r\n     \r\n      e.preventDefault();\r\n      if(eoru){\r\n        setSubmitted(true);\r\n        post('/auth/forgot-password', {body: {\r\n        eoru,\r\n      }})\r\n      .then(data=>{\r\n        successNotification(`Email has been sent to ${data.accepted[0]}`)\r\n        setSubmitted(false);\r\n        history.push('/login')\r\n      })\r\n      .catch(err=>{\r\n        let errMsg = err?.response?.data?.msg;\r\n        failureNotification(errMsg)\r\n        setSubmitted(false)\r\n      })\r\n      }\r\n       \r\n    }\r\n\r\n   \r\n    return (\r\n        <div className=\"fPassword\">\r\n        <h2>Forgot Password</h2>\r\n        <form className=\"fPasswordForm\" method=\"post\" onSubmit={forgotPassword}>\r\n          <label>Email/Username</label>\r\n          <input\r\n            onChange={formChange}\r\n            type=\"text\"\r\n            name=\"eoru\"\r\n            value = {eoru}\r\n          />\r\n          \r\n          <button className={\"fPasswordButton \" + (submitted? \"clicked\":null) } onClick={submitted ?null:forgotPassword}>\r\n          Submit\r\n        </button>\r\n        </form>\r\n        <div className=\"others\">\r\n          <p>\r\n           Don't Have an Account? Click <Link to=\"/Join\"> Here</Link>\r\n          </p>\r\n          <p>\r\n            Go back to Login? Click <Link to=\"/login\"> Here</Link>\r\n\r\n          </p>\r\n        </div>\r\n      </div>\r\n    )\r\n}","import React, { useState } from 'react';\r\n\r\nimport './AddressInput.css';\r\n\r\nconst defaultAddressForm = {\r\n    address: null,\r\n    city: null,\r\n    state: null,\r\n    postalCode: null,\r\n    country: null\r\n}\r\n\r\nexport default function AddressInput({setShowModal, setAddressFormDetails}){\r\n    const [formDetails, setFormDetails] = useState({...defaultAddressForm})\r\n    const [submitted, setSubmitted] = useState(false)\r\n    const formChange = e =>{\r\n        setFormDetails({...formDetails, [e.target.name]: e.target.value})\r\n    }\r\n    \r\n    const submit = e =>{\r\n        e.preventDefault();\r\n        setAddressFormDetails({...formDetails});\r\n        setShowModal(false)\r\n    }\r\n    return (\r\n        <div className = 'address-container'>\r\n            <span className = 'crossModal' onClick = {()=>setShowModal(false)}>&times;</span>\r\n        <div className = 'address'>\r\n             <h2>Address</h2>\r\n      <form className=\"addressForm\" method=\"post\" onSubmit={submit}>\r\n        <label>Address</label>\r\n        <input\r\n          onChange={formChange}\r\n          type=\"text\"\r\n          name=\"address\"\r\n          defaultValue={formDetails.address}\r\n        />\r\n       <label>City</label>\r\n        <input\r\n          onChange={formChange}\r\n          type=\"text\"\r\n          name=\"city\"\r\n          defaultValue={formDetails.city}\r\n        />\r\n        <label>State</label>\r\n        <input\r\n          onChange={formChange}\r\n          type=\"text\"\r\n          name=\"state\"\r\n          defaultValue={formDetails.state}\r\n        />\r\n        <label>Postal Code</label>\r\n        <input\r\n          onChange={formChange}\r\n          type=\"text\"\r\n          name=\"postalCode\"\r\n          defaultValue={formDetails.postalCode}\r\n        />\r\n        <label>Country</label>\r\n        <input\r\n          onChange={formChange}\r\n          type=\"text\"\r\n          name=\"country\"\r\n          defaultValue={formDetails.country}\r\n        />\r\n        <button className=\"addressButton\" onClick={submit} style = {submitted? {backgroundColor: 'gray'}: null} disabled = {submitted}>\r\n          Done\r\n        </button>\r\n      </form>\r\n        </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { useEffect } from \"react\";\r\nimport ReactDOM from 'react-dom'\r\nconst appRoot = document.querySelector('#root');\r\nconst modalRoot = document.querySelector('#modal');\r\n\r\nexport default function Modal(props){\r\n    const el = document.createElement('div');\r\n    useEffect(()=>{\r\n        modalRoot.appendChild(el);\r\n        return ()=>{\r\n            modalRoot.removeChild(el)\r\n        }\r\n    }, []);\r\n\r\n    \r\n    return ReactDOM.createPortal(\r\n      props.children,\r\n    el\r\n    )\r\n}\r\n  \r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./CartContents.css\";\r\nimport Wine from \"../../images/wine.png\";\r\nimport { setCart, setUser } from \"../../reduxMgmt/actions/actions\";\r\nimport { get, post, put } from \"../../utilities/http\";\r\nimport { productPicUrl } from \"../../utilities/urls\";\r\nimport {\r\n  failureNotification,\r\n  successNotification,\r\n  warningNotification,\r\n} from \"../../utilities/toast\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AddressInput from \"../AddressInput/AddressInput\";\r\nimport Modal from \"../../Modal/Modal\";\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user.user,\r\n    products: state.product.products,\r\n    cart_p: state.cart.products,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    saveProductsToCart: (products) => dispatch(setCart(products)),\r\n    saveUserToState: (user) => dispatch(setUser(user)),\r\n  };\r\n};\r\nfunction CartContents({\r\n  user,\r\n  products,\r\n  cart_p,\r\n  saveProductsToCart,\r\n  saveUserToState,\r\n}) {\r\n  const [productSelected, setProductsSelected] = useState([]);\r\n  const [subTotal, setSubTotal] = useState(0);\r\n  const [qty, setQty] = useState({});\r\n  const [showModel, setShowModel] = useState(false);\r\n  const [addressFormDetails, setAddressFormDetails] = useState({});\r\n  const [checkedOut, setCheckedOut] = useState(false);\r\n  useEffect(() => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      left: 0,\r\n\r\n    });\r\n    setSubTotal(productSelected.reduce((a, sP) => a + sP.qty * sP.price, 0));\r\n  }, [productSelected]);\r\n  const selectQty = (e) => {\r\n    let { name, value } = e.target;\r\n\r\n    let qtyT = { ...qty };\r\n    let pInd = productSelected.findIndex((p) => p.p === name);\r\n    if (pInd > -1) {\r\n      let pcheck = [...productSelected];\r\n      pcheck[pInd][\"qty\"] = +value;\r\n      setProductsSelected(pcheck);\r\n\r\n      return;\r\n    }\r\n\r\n    if (qtyT[name] >= 0) {\r\n      qtyT[name] = value;\r\n      setQty(qtyT);\r\n    } else {\r\n      setQty({ ...qty, [name]: value });\r\n    }\r\n    setSubTotal(productSelected.reduce((a, sP) => a + sP.qty * sP.price, 0));\r\n  };\r\n  const removePFromCart = async (product) => {\r\n    let products = cart_p;\r\n    let nowProduct = product._id;\r\n    products.splice(products.indexOf(nowProduct), 1);\r\n\r\n    let pIDs = products.map((p) => p._id);\r\n    if (!localStorage.getItem(\"i_hash\")) {\r\n      localStorage.setItem(\"cart_p\", JSON.stringify(pIDs));\r\n    } else {\r\n      let formData = new FormData();\r\n      formData.append(\"action\", \"remove\");\r\n      formData.append(\"cart\", product._id);\r\n      let user = await put(\r\n        \"/user\",\r\n        { body: formData },\r\n        true,\r\n        \"multipart/form-data\"\r\n      );\r\n      saveUserToState(user);\r\n    }\r\n    saveProductsToCart(products);\r\n    successNotification(\"Removed to cart\");\r\n    setSubTotal(productSelected.reduce((a, sP) => a + sP.qty * sP.price, 0));\r\n  };\r\n  const selectProduct = (e) => {\r\n    // console.log(e.target.name, e.target.checked, i)\r\n    let { name, checked, value } = e.target;\r\n    if (checked) {\r\n      if (qty[value]) {\r\n        setProductsSelected([\r\n          ...productSelected,\r\n          {\r\n            p: value,\r\n            qty: qty[value],\r\n            price: +e.target.attributes[2].value,\r\n          },\r\n        ]);\r\n      } else {\r\n        failureNotification(\"Select Quantity\")\r\n      }\r\n    } else {\r\n      let product = productSelected;\r\n      product.splice(\r\n        product.findIndex((p) => p.p === value),\r\n        1\r\n      );\r\n      setProductsSelected(product);\r\n    }\r\n    setSubTotal(productSelected.reduce((a, sP) => a + sP.qty * sP.price, 0));\r\n  };\r\n  \r\n  const checkout = (e) => {\r\n    e.preventDefault();\r\n    if(Object.keys(addressFormDetails).length!== 5){\r\n      setShowModel(true);\r\n      return;\r\n    }\r\n     \r\n  \r\n     if (localStorage.getItem(\"i_hash\")) {\r\n       if (productSelected.length) {\r\n        setCheckedOut(true);\r\n         let bodyForPost = {\r\n           productReq: productSelected,\r\n           subTotal,\r\n           shippingCharge: 150,\r\n           address: addressFormDetails.address,\r\n           city: addressFormDetails.city,\r\n           state: addressFormDetails.state,\r\n           postalCode: addressFormDetails.postalCode,\r\n           country: addressFormDetails.country,\r\n         };\r\n         post(\"/bought\", { body: bodyForPost }, true)\r\n           .then((msg) => {\r\n             productSelected.forEach((pr) => {\r\n               let prId = pr.p;\r\n               cart_p.splice(\r\n                 cart_p.findIndex((pr) => pr._id === prId),\r\n                 1\r\n               );\r\n               saveProductsToCart(cart_p);\r\n               setCheckedOut(false);\r\n             });\r\n             successNotification(msg);\r\n           })\r\n           .catch((err) => {failureNotification(\"Some Error Occured!\");   setCheckedOut(false);});\r\n       } else {\r\n         failureNotification(\"Select the Product first!\");\r\n       }\r\n     } else {\r\n       failureNotification(\"Please Login First!\");\r\n     }\r\n  \r\n\r\n  };\r\n\r\n  let tPrice = subTotal ? subTotal + 150 : 0;\r\n\r\n\r\n  const addressFilled= Object.keys(addressFormDetails).length=== 5;\r\n\r\n  return (\r\n    <div className=\"cartContents\">\r\n      {\r\n        showModel && \r\n        <Modal>\r\n          <AddressInput setShowModal = {setShowModel} setAddressFormDetails = {setAddressFormDetails}/>\r\n        </Modal>\r\n      }\r\n      \r\n      <h2>Cart</h2>\r\n   \r\n\r\n      <div className=\"productsInCart\">\r\n        {cart_p.map((product, i) => {\r\n          return (\r\n            <div key={i} className=\"cartProduct\">\r\n              {\r\n                (product.quantity - (product.sold||0))? \r\n                null:\r\n                <div className = 'out-of-stock'>\r\n                <p>Out-of-Stock</p>\r\n                </div>\r\n              }\r\n              <img\r\n                src={`${productPicUrl}/${product.images[0]}`}\r\n                className=\"pInCartImg\"\r\n              />\r\n              <span className=\"trash\" onClick={() => removePFromCart(product)}>\r\n                <i className=\"fa fa-trash \"></i>\r\n              </span>\r\n              \r\n              {\r\n                qty[product._id]>0?\r\n                <input\r\n                type=\"checkbox\"\r\n                className=\"selectChecboxCart\"\r\n                value={product._id}\r\n                onChange={selectProduct}\r\n                price={product.price}\r\n              />\r\n            :null}\r\n              <div className=\"cartProductDetails\">\r\n                <Link key={i} to={`/shop/${product._id}`}>\r\n                  <div className=\"p_name\">\r\n                    <span>{product.name}</span>\r\n                  </div>\r\n                </Link>\r\n                <div className=\"remDetailsPCart\">\r\n                  <div className=\"quantityAddToCart\">\r\n                    <span className=\"quantity\">\r\n                      Quantity:{\" \"}\r\n                      <input\r\n                        type=\"number\"\r\n                        onChange={selectQty}\r\n                        name={product._id}\r\n                        min={0}\r\n                        defaultValue={0}\r\n                        max = {product.quantity - (product.sold||0)}\r\n                      />\r\n                    </span>\r\n                  </div>\r\n\r\n                  <span className=\"pCartPrice\">Price: {product.price}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      <div className=\"checkOut\">\r\n        <h2>Order Summary</h2>\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <td>Subtotal</td>\r\n              <td>Rs. {subTotal}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>Shipping Fee</td>\r\n              <td>Rs. 150</td>\r\n            </tr>\r\n            <tr>\r\n              <td>Total</td>\r\n              <td>Rs. {tPrice}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n\r\n        <button onClick={checkedOut? null:checkout} className={\"proceedToCheckout \" + (checkedOut? \"clicked\": 'null')}>\r\n          {addressFilled? \"Checkout\": \"Enter Full Address\"}\r\n        </button>\r\n      </div>\r\n      {\r\n        addressFilled? \r\n        <div className = 'addressToDeliver'>\r\n        <h2>Address Information</h2>\r\n        <h4>Address: {addressFormDetails?.address}</h4>\r\n        <h4>City: {addressFormDetails?.city}</h4>\r\n        <h4>State: Bagmati {addressFormDetails?.state}</h4>\r\n        <h4>PostalCode: {addressFormDetails?.postalCode}</h4>\r\n        <h4>Country: {addressFormDetails?.country}</h4>\r\n      </div>\r\n      :null}\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CartContents);\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport ProfileDetails from '../Profile/ProfileDetails/ProfileDetails';\r\nimport ProfileUpdate from '../Profile/ProfileUpdate/ProfileUpdate';\r\nimport CartContents from '../CartContents/CartContents';\r\nimport './PublicProfile.css'\r\nimport BoughtHistory from '../BoughtHistory/BoughtHistory';\r\n\r\nconst mapStateToProps = state=>{\r\n    return {\r\n        user:state.user.user\r\n    }\r\n}\r\nfunction PublicProfile({match, user}){\r\n  \r\nreturn (\r\n    <div className = 'pProfile'>\r\n        <div className = 'topHandle'>\r\n            <ul>\r\n                <li className = {(match.params.link === user._id)? 'cSL': null}><Link to = {`/profile/${user._id}`}>Profile</Link></li>\r\n                <li className = {(match.params.link === 'update')? 'cSL': null}><Link to = '/profile/update'>Update Profile</Link></li>\r\n                <li className = {(match.params.link === 'boughtHistory')? 'cSL': null}><Link to = '/profile/boughtHistory'>Bought History</Link></li>\r\n                <li><Link to = '/cart'>Cart</Link></li>            </ul>\r\n        </div>\r\n        <div className = 'det'>\r\n        {match.params.link === 'update'? <ProfileUpdate />\r\n        : match.params.link === 'boughtHistory'? <BoughtHistory />\r\n        :<ProfileDetails />\r\n        }\r\n        </div>\r\n    </div>\r\n  \r\n)\r\n}\r\n\r\nexport default connect(mapStateToProps)(PublicProfile);","import React from \"react\";\r\nimport { post } from \"../../utilities/http\";\r\nimport {\r\n  failureNotification,\r\n  successNotification,\r\n} from \"../../utilities/toast\";\r\nimport \"./ResetPassword.css\";\r\n\r\nexport default class ResetPassword extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      password: null,\r\n      confirmPassowrd: null,\r\n      submitted: false,\r\n    };\r\n  }\r\n  formChange = (e) => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n  reset = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      submitted: true,\r\n    });\r\n    if (!this.state.password) {\r\n      failureNotification(\"Please enter the password\");\r\n      return;\r\n    }\r\n\r\n    if (this.state.password.length < 8) {\r\n      failureNotification(\"Password should be greater than 8 length\");\r\n      return;\r\n    }\r\n    if (this.state.password !== this.state.confirmPassword) {\r\n      failureNotification(\"Password do not match\");\r\n      return;\r\n    }\r\n    let token = this.props.match.params[\"token\"];\r\n    post(`/auth/reset-password/${token}`, {\r\n      body: {\r\n        password: this.state.password,\r\n      },\r\n    })\r\n      .then((data) => {\r\n        this.setState({\r\n          submitted: false,\r\n        });\r\n        successNotification(\"Succesfully Resetted!\");\r\n        this.props.history.push(\"/login\");\r\n      })\r\n      .catch((err) => {\r\n        let errMsg = err.response.data.msg;\r\n        failureNotification(errMsg);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"rPassword\">\r\n        <h2>Reset Password</h2>\r\n        <form className=\"rPasswordForm\" method=\"post\" onSubmit={this.reset}>\r\n          <label>Password</label>\r\n          <input\r\n            onChange={this.formChange}\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={this.password}\r\n          />\r\n          <label>Confirm password</label>\r\n          <input\r\n            onChange={this.formChange}\r\n            type=\"password\"\r\n            name=\"confirmPassword\"\r\n            value={this.confirmPassowrd}\r\n          />\r\n          <button\r\n            className={\"rPasswordButton \" + (this.submitted ? \"clicked\" : null)}\r\n            onClick={this.submitted ? null : this.reset}\r\n          >\r\n            Submit\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { useEffect, useState } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport Home from \"./components/Home/Home\";\nimport Footer from \"./views/Footer/Footer\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport Shop from \"./components/Shop/Shop\";\nimport About from \"./components/About/About\";\nimport ProductDetails from \"./views/ProductView/ProductDetails/ProductDetails\";\nimport AdminPanel from \"./components/AdminPanel/AdminPanel\";\nimport Login from \"./components/Login/Login\";\nimport Register from \"./components/Register/Register\";\nimport { isAuthorized } from \"./utilities/auth.middleware\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport ForgotPassword from \"./components/ForgotPassword/ForgotPassword\";\nimport { setCart, setProducts, setUser } from \"./reduxMgmt/actions/actions\";\nimport { get, post } from \"./utilities/http\";\nimport { connect } from \"react-redux\";\nimport PublicProfile from \"./components/PublicProfile/PublicProfile\";\nimport CartContents from \"./components/CartContents/CartContents\";\nimport ResetPassword from \"./components/ResetPassword/ResetPassword\";\n\nfunction AdminRoute({ component: Component, user, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        return isAuthorized(user) ? (\n          <Component {...props}/>\n        ) : (\n          <Redirect to=\"/\" />\n        );\n      }}\n    />\n  );\n}\nfunction PublicRoute({ component: Component, isAdmin, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        return (\n          <>\n            <Navbar />\n            <Component {...props} />\n            <Footer />\n          </>\n        );\n      }}\n    />\n  );\n}\nfunction PublicAuth({ component: Component, user, ...rest }) {\n  return !localStorage.getItem('i_hash') ? (\n    <Route\n      {...rest}\n      render={(props) => {\n        return (\n          <>\n            <Navbar />\n            <Component {...props} />\n          </>\n        );\n      }}\n    />\n  ) : (\n    <Redirect to=\"/\" />\n  );\n}\n\n//redux\nconst mapStateToProps = (state) => {\n  return {\n    user: state.user.user,\n    cart_p: state.cart.products\n  };\n};\n\nconst mapDispathToProps = (dispatch) => {\n  return {\n    saveUserToState: (user) => dispatch(setUser(user)),\n    saveProductToState: products=>dispatch(setProducts(products)),\n    saveCartPToState: products =>dispatch(setCart(products))\n  };\n};\nfunction App({ saveUserToState, cart_p, user, products , saveProductToState, saveCartPToState}) {\n  useEffect(() => {\n    if(localStorage.getItem('i_hash')){\n      get(\"/user\", {}, true)\n      .then((user) => {\n        saveUserToState(user);\n        let  products = [];\n        user.cart.forEach(p_id=>{\n        get(`/product/${p_id}`)\n        .then(p=>{\n          products.push(p);\n          saveCartPToState([...cart_p, p])\n        })\n        .catch(console.log)\n        })\n      })\n      .catch(console.log);\n    }\n    else{\n      let item = JSON.parse(localStorage.getItem('cart_p'));\n  \n      let  products = [];\n      if(item && item.length){\n        item.forEach(p_id=>{\n        get(`/product/${p_id}`)\n        .then(p=>{\n\n          products.push(p);\n          saveCartPToState(products)\n        })\n        .catch(console.log)\n        })\n      \n  \n    }\n    }\n  }, []);\n  useEffect(() => {}, [user]);\n  return (\n    <>\n      <Router>\n        <Switch>\n          <PublicRoute exact path=\"/\" component={Home} />\n          <PublicRoute exact path=\"/shop\" component={Shop} />\n          <PublicRoute exact path=\"/profile/:link\" component={PublicProfile} />\n          <PublicRoute path=\"/cart\" component={CartContents} />\n          <PublicRoute path=\"/shop/:id\" component={ProductDetails} />\n          <PublicRoute path=\"/about\" component={About} />\n          {/* <PublicRoute path=\"/about\" component = {About} /> */}\n          <AdminRoute path=\"/admin\" component={AdminPanel} user={user} />\n          <PublicAuth path=\"/login\" component={Login} user={user} />\n          <PublicAuth path=\"/join\" component={Register} user={user} />\n          <PublicAuth\n            path=\"/forgot-password\"\n            component={ForgotPassword}\n          />\n           <PublicAuth\n            path=\"/reset-password/:token\"\n            component={ResetPassword}\n          />\n          {/* <Route exact path=\"/adminLogin\" component={AdminSignin} /> */}\n        </Switch>\n      </Router>\n      <ToastContainer />\n    </>\n  );\n}\n\nexport default connect(mapStateToProps, mapDispathToProps)(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { SET_CART, SET_PRODUCTS, SET_USER, SET_FILTER } from \"../types/types\";\r\n\r\nconst initialUserState = {\r\n  user: {},\r\n};\r\nexport const setUser = (state = initialUserState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER:\r\n      return {\r\n        ...state,\r\n        user: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst initialProductsState = {\r\n  products: [],\r\n};\r\nexport const setProducts = (state = initialProductsState, action) => {\r\n  switch (action.type) {\r\n    case SET_PRODUCTS:\r\n      return {\r\n        ...state,\r\n        products: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst initialCartProducts = {\r\n  products: [],\r\n};\r\nexport const setCart = (state = initialCartProducts, action) => {\r\n  switch (action.type) {\r\n    case SET_CART:\r\n      return {\r\n        ...state,\r\n        products: [...action.payload],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst initialFilterDetails = {\r\n  type: [],\r\n  variety: [],\r\n  min: 0,\r\n  max: 0,\r\n  name: \"\"\r\n};\r\nexport const setFilter = (state = initialFilterDetails, action) => {\r\n  switch (action.type) {\r\n    case SET_FILTER:\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {Provider} from 'react-redux';\nimport {applyMiddleware, combineReducers, createStore} from 'redux'\nimport {createLogger} from 'redux-logger'\n\nimport reportWebVitals from './reportWebVitals';\nimport { setProducts, setUser,setCart, setFilter } from './reduxMgmt/reducers/reducers';\n\nconst logger = createLogger();\n\n\nconst rootReducer = combineReducers({user: setUser, product:setProducts, cart:setCart, filter:setFilter})\nconst store = createStore(rootReducer, applyMiddleware(logger))\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store = {store}>\n    <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}