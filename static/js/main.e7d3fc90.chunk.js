(this.webpackJsonpcommerce=this.webpackJsonpcommerce||[]).push([[0],[,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return s}));var c=n(49),a=n.n(c).a.create({baseURL:"https://amwine.herokuapp.com",responseType:"json"});function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t.headers,t.params),c=void 0===n?{}:n,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/json",i=s?{Authorization:JSON.parse(localStorage.getItem("i_hash")),"Content-Type":r}:{"Content-Type":r};return a({method:"GET",url:e,headers:i,params:c}).then((function(e){return e.data}))}function r(e,t){t.headers;var n=t.params,c=void 0===n?{}:n,s=t.body,r=void 0===s?{}:s,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/json",l=i?{Authorization:JSON.parse(localStorage.getItem("i_hash")),"Content-Type":o}:{"Content-Type":o};return a({method:"POST",url:e,headers:l,data:r,params:c}).then((function(e){return e.data}))}function i(e,t){t.headers;var n=t.params,c=void 0===n?{}:n,s=t.body,r=void 0===s?{}:s,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/json",l=i?{Authorization:JSON.parse(localStorage.getItem("i_hash")),"Content-Type":o}:{"Content-Type":o};return a({method:"PUT",url:e,headers:l,data:r,params:c}).then((function(e){return e.data}))}function o(e,t){t.headers;var n=t.params,c=void 0===n?{}:n,s=(t.body,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/json",i=s?{Authorization:JSON.parse(localStorage.getItem("i_hash")),"Content-Type":r}:{"Content-Type":r};return a({method:"DELETE",url:e,headers:i,params:c})}},,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var c="http://localhost:8000/adImage"},,function(e,t,n){"use strict";t.a=n.p+"static/media/wine.6510e926.png"},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),s=n.n(a),r=n(20),i=n.n(r),o=(n(61),n(14)),l=n(2),u=n(24),d=(n.p,n(62),n(3)),j=n(4);n(63);function b(){return Object(c.jsx)("div",{className:"linkContainer",children:Object(c.jsx)(j.b,{to:"/AMWINE_FE",children:Object(c.jsxs)("div",{className:"logo",children:[Object(c.jsx)("div",{className:"box"}),Object(c.jsx)("span",{children:"AMWINE"})]})})})}n(68),n(69);var h=["Shop","About","Login"],m=["Shop","About","Profile"];function p(e){return!(!e||!e.role||"admin"!==e.role.substring(0,5).toLowerCase())}function O(e){return!!p(e)&&"p"===e.role.substring(6,7).toLowerCase()}var f=n(19),x=n(17);var v=function(e){var t=e.user,n=e.setShowMenu,a=e.showMenu,s=e.currentLink,r=e.signOut,i=localStorage.getItem("i_hash")?m:h;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"links",children:Object(c.jsx)("ul",{children:i.map((function(e,n){return"Profile"===e?p(t)?Object(c.jsx)(j.b,{to:"/admin",children:Object(c.jsx)("li",{className:"/admin"===s?"activeMainNav":null,children:Object(c.jsx)("img",{className:"publicProfile",src:t.image?t.image:f.a})})},n):Object(c.jsx)(j.b,{to:"/profile/".concat(t._id),children:Object(c.jsx)("li",{className:s==="profile/".concat(t._id)?"activeMainNav":null,children:Object(c.jsx)("img",{className:"publicProfile",src:t.image?t.image:f.a})})},n):Object(c.jsx)(j.b,{to:"/"+e.toLowerCase(),children:Object(c.jsx)("li",{className:s===e.toLowerCase()?"activeMainNav":null,children:e})},n)}))})}),a?Object(c.jsx)("div",{className:"menu",children:Object(c.jsx)("ul",{children:i.map((function(e,a){return"Profile"===e?p(t)?Object(c.jsx)(j.b,{to:"/admin",children:Object(c.jsx)("li",{className:"/admin"===s?"activeMainNav":null,onClick:function(){n()},children:e})},a):Object(c.jsx)(j.b,{to:"/profile/".concat(t._id),children:Object(c.jsx)("li",{className:s==="profile/".concat(t._id)?"activeMainNav":null,onClick:function(){n()},children:e})},a):Object(c.jsx)(j.b,{to:"/"+e.toLowerCase(),children:Object(c.jsx)("li",{className:s===e.toLowerCase()?"activeMainNav":null,onClick:function(){n()},children:e})},a)}))})}):null,localStorage.getItem("i_hash")?Object(c.jsx)("div",{className:"logoutFloat",onClick:r,children:Object(c.jsx)("button",{children:"Sign Out"})}):null]})};n(70);function g(e){var t=e.showMenu,n=e.openOrClose;return Object(c.jsx)("div",{className:"hamMenu",children:t?Object(c.jsx)("i",{className:"fa fa-times fa-2x",onClick:n}):Object(c.jsx)("i",{className:"fa fa-bars fa-2x",onClick:n})})}var N=n(11),y="SET_USER",S="SET_PRODUCTS",C="SET_CART",w="SET_FILTER",k=function(e){return{type:y,payload:e}},P=function(e){return{type:S,payload:e}},A=function(e){return{type:C,payload:e}},I=n(6),T=n(5),_=n(22);function F(e){_.b.success(e)}function E(e){_.b.error(e)}function M(e){_.b.warn(e)}var D={backgroundColor:"var(--main-color)",boxShadow:" 0 0 15px white"};var L=Object(N.g)(Object(I.b)((function(e){return{user:e.user.user}}),(function(e){return{onSignOut:function(){return e(k({}))}}}))((function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)("/"),o=Object(d.a)(i,2),l=o[0],u=o[1],j=Object(a.useState)({backgroundColor:"transparent"}),h=Object(d.a)(j,2),m=h[0],p=h[1];return Object(a.useEffect)((function(){var t=e.location.pathname.substring(1,e.location.pathname.length);return""!==t&&p(D),u(t),window.onscroll=function(e){""!==t||e.path[1].pageYOffset>100?p(D):p({backgroundColor:"transparent"})},function(){p(D)}}),[e.location.pathname]),Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("nav",{className:"nav",style:m,children:[Object(c.jsx)(b,{}),Object(c.jsx)(v,{setShowMenu:r,showMenu:s,currentLink:l,user:e.user,signOut:function(t){var n=JSON.parse(localStorage.getItem("i_hash"));Object(T.b)("/auth/logout",{body:{token:n}}).then((function(t){F(t),localStorage.clear(),e.onSignOut(),e.history.push("/AMWINE_FE")})).catch((function(e){return E(e)}))}}),Object(c.jsx)(g,{showMenu:s,openOrClose:function(e){e.preventDefault(),r((function(e){return!e}))}})]})})})));n(90);var U=Object(I.b)((function(e){return{cart_p:e.cart.products}}))((function(e){var t=e.cart_p;return Object(c.jsx)(j.b,{to:"/cart",children:Object(c.jsxs)("div",{className:"cartContainer",children:[Object(c.jsx)("i",{className:"fa fa-shopping-cart fa-2x"}),Object(c.jsx)("span",{children:t&&t.length||0})]})})})),B=(n(91),n.p+"static/media/esewa.a56ea46b.png"),R=n.p+"static/media/visa.28a6bad3.png",V=n.p+"static/media/khalti.b56e4436.png";function q(){return Object(c.jsxs)("div",{className:"contactContainer",children:[Object(c.jsxs)("div",{className:"pymtInfo",children:[Object(c.jsx)("h2",{children:"Payment Options"}),Object(c.jsx)("img",{src:B,width:"200px"}),Object(c.jsx)("img",{src:V,width:"200px"}),Object(c.jsx)("img",{src:R,width:"200px"})]}),Object(c.jsxs)("div",{className:"cntctInfo",children:[Object(c.jsx)("h2",{children:"Contact Info"}),Object(c.jsx)("span",{className:"sadd",children:"Bhaktapur, Nepal"}),Object(c.jsxs)("span",{className:"tel",children:[Object(c.jsx)("strong",{children:"Tel:"})," +8787542464687"]}),Object(c.jsxs)("span",{className:"email",children:[Object(c.jsx)("strong",{children:"Email:"})," pra@gads.com"]}),Object(c.jsxs)("div",{className:"iconContainerSocial",children:[Object(c.jsx)("i",{className:"fa fa-facebook fa-3x"}),Object(c.jsx)("i",{className:"fa fa-instagram fa-3x"})]})]})]})}n(92);function H(){return Object(c.jsxs)("div",{className:"footer",children:[Object(c.jsx)(q,{}),Object(c.jsx)("span",{children:"\xa9 2020, AMWINE Pvt. Ltd. All rights reserved."}),Object(c.jsx)(U,{})]})}n(93);function W(){return Object(c.jsx)("div",{className:"newsBefore",children:Object(c.jsxs)("div",{className:"newsText",children:[Object(c.jsx)("h2",{children:"ANKIT WINE SHOP"}),Object(c.jsx)("p",{children:"Join us for perks on buys"}),localStorage.getItem("i_hash")?null:Object(c.jsx)(j.b,{to:"/join",className:"JoinButtonBelow",children:"Join"})]})})}n(94);var J=Object(N.g)((function(e){return Object(c.jsxs)("div",{className:"seeMore",children:[Object(c.jsx)("i",{className:"fa fa-glass fa-4x"}),Object(c.jsx)("h2",{children:"Browse All Products"}),Object(c.jsx)("button",{onClick:function(){e.history.push("/shop")},children:"See More"})]})})),z=(n(95),n(7)),Q=n.n(z),G=n(10);n(97);var K=Object(I.b)((function(e){return{cart_p:e.cart.products}}),(function(e){return{saveCartPToState:function(t){return e(A(t))},saveUserToState:function(t){return e(k(t))}}}))((function(e){var t=e.product,n=e.user,a=e.saveCartPToState,s=e.cart_p,r=e.saveUserToState,i="/shop/"+t._id,o=t.images[0],l=function(){var e=Object(G.a)(Q.a.mark((function e(n){var c,i,o,l;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.findIndex((function(e){return e._id===t._id}))>-1)){e.next=3;break}return M("Already in the cart"),e.abrupt("return");case 3:if((c=s).push(n),i=c.map((function(e){return e._id})),localStorage.getItem("i_hash")){e.next=12;break}localStorage.setItem("cart_p",JSON.stringify(i)),a(c),F("Addedd to cart"),e.next=28;break;case 12:return(o=new FormData).append("cart",n._id),o.append("action","add"),e.prev=15,e.next=18,Object(T.c)("/user",{body:o},!0,"multipart/form-data");case 18:l=e.sent,r(l),a(c),F("Addedd to cart"),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(15),console.log(e.t0.response),E("Error Occured!");case 28:case"end":return e.stop()}}),e,null,[[15,24]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"product",children:[Object(c.jsx)(j.b,{to:i,children:Object(c.jsx)("div",{className:"imageContainer",children:Object(c.jsx)("div",{className:"bgImage",style:{backgroundImage:t.images.length?"url("+o+")":null}})})}),Object(c.jsxs)("div",{className:"desc",children:[Object(c.jsxs)(j.b,{to:i,children:[" ",Object(c.jsx)("h2",{className:"productName",children:t.name})," "]}),Object(c.jsxs)("div",{className:"descrip",children:[Object(c.jsxs)("span",{className:"productPrice",children:["Price: NRs. ",t.price]}),p(n)?Object(c.jsx)(j.b,{to:"admin/post/updateProduct/".concat(t._id),children:Object(c.jsx)("button",{className:"updateButton",children:"Update"})}):Object(c.jsx)("div",{className:"addToCart",onClick:function(){return l(t)},children:Object(c.jsx)("button",{className:"addToCartButton",style:s.findIndex((function(e){return e._id===t._id}))>-1?{backgroundColor:"white",color:"black"}:null,children:Object(c.jsx)("i",{className:"fa fa-cart-plus fa-2x"})})})]})]})]})})),Y=n(50),Z=n.n(Y);n(113),n(46);function $(e){var t=e.onClick;return Object(c.jsx)("div",{className:"arrowRight",onClick:t,children:Object(c.jsx)("i",{className:"fa fa-chevron-right"})})}function X(e){var t=e.onClick;return Object(c.jsx)("div",{className:"arrowLeft",onClick:t,children:Object(c.jsx)("i",{className:"fa fa-chevron-left"})})}function ee(e){var t=e.user,n=e.products,a=(e.next,e.prev,e.currentSlide,{nextArrow:Object(c.jsx)($,{}),prevArrow:Object(c.jsx)(X,{}),speed:500,infinite:!1,slidesToShow:4,slidesToScroll:4,initialSlide:0,responsive:[{breakpoint:1050,settings:{slidesToShow:3,slidesToScroll:3,infinite:!1}},{breakpoint:760,settings:{slidesToShow:2,slidesToScroll:2,initialSlide:2,infinite:!1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,infinite:!1}}]});return Object(c.jsx)("div",{className:"slider",children:Object(c.jsx)(Z.a,Object(l.a)(Object(l.a)({},a),{},{children:n.map((function(e,n){return Object(c.jsx)(K,{user:t,product:e},n)}))}))})}n(114);var te=n.p+"static/media/wineComp2.c30c18dc.jpg";function ne(e){var t=e.ad,n=t.title,a=t.image;console.log("".concat(x.a,"/").concat(a));var s=a?{backgroundImage:"url(".concat(x.a,"/").concat(a,")")}:{backgroundImage:'url("'.concat(te,'")')};return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"ad",style:s,children:Object(c.jsx)("h2",{children:n||null})})})}var ce=Object(I.b)((function(e){return{products:e.product.products,user:e.user.user}}),(function(e){return{saveProductsToState:function(t){return e(P(t))}}}))((function(e){var t=e.products,n=e.user,s=e.saveProductsToState,r=Object(a.useState)({}),i=Object(d.a)(r,2),o=i[0],l=i[1];return Object(a.useEffect)((function(){window.scrollTo({top:0}),Object(T.b)("/product/search",{body:{pageNumber:1,itemsToShow:10}}).then((function(e){var t=e.products;s(t)})).catch(console.log),Object(T.a)("/ad").then((function(e){l(e)}))}),[]),Object(c.jsxs)("div",{className:"home",children:[Object(c.jsx)(W,{}),Object(c.jsx)("h2",{children:"Latest Wine on Stock"}),Object(c.jsx)(ee,{products:t,user:n}),Object(c.jsx)(J,{}),Object(c.jsx)(ne,{ad:o||{}})]})})),ae=n(9);n(115);function se(){var e=Object(a.useContext)(ie);return Object(c.jsxs)("div",{className:"search",children:[Object(c.jsx)("input",{type:"search",placeholder:"Enter name",onChange:e.searchChange}),Object(c.jsx)("div",{className:"searchButton",onClick:e.search,children:Object(c.jsx)("i",{className:"fa fa-search fa-2x"})})]})}n(116);function re(e){var t=e.filter,n=e.varieties,a=e.filterChange;e.searchChange,e.search;return Object(c.jsxs)("div",{className:"filter",children:[Object(c.jsx)("h2",{children:"Search"}),Object(c.jsx)(se,{filter:t}),Object(c.jsx)("h2",{children:"Filter"}),Object(c.jsxs)("div",{className:"priceRange",children:[Object(c.jsx)("label",{children:"Price"}),Object(c.jsx)("input",{type:"number",name:"min",onChange:a}),Object(c.jsx)("label",{children:"to"}),Object(c.jsx)("input",{type:"number",name:"max",onChange:a})]}),Object(c.jsxs)("div",{className:"wOrB",children:[Object(c.jsx)("h2",{children:"Type"}),Object(c.jsx)("input",{type:"checkbox",name:"type",value:"wine",onChange:a}),Object(c.jsx)("label",{htmlFor:"wine",children:"Wine"}),Object(c.jsx)("input",{type:"checkbox",name:"type",value:"beer",onChange:a}),Object(c.jsx)("label",{htmlFor:"beer",children:"Beer"}),Object(c.jsx)("br",{})]}),Object(c.jsxs)("div",{className:"variety",children:[Object(c.jsx)("h2",{children:"Variety"}),Object(c.jsx)("div",{className:"varietyContainer",children:n.map((function(e,t){return Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{type:"checkbox",name:e,value:e,onChange:a}),Object(c.jsx)("label",{htmlFor:e,children:e}),Object(c.jsx)("br",{})]},t)}))})]}),Object(c.jsx)("button",{className:"filterButton",onClick:t,children:"Filter"})]})}n(117);var ie=s.a.createContext(null),oe={type:[],variety:[],min:0,max:0,name:""};var le=Object(I.b)((function(e){return{products:e.product.products,user:e.user.user,filterDetails:e.filter}}),(function(e){return{saveProductsToState:function(t){return e(P(t))},saveFilterDetailsToState:function(t){return e(function(e){return{type:w,payload:e}}(t))}}}))((function(e){var t=e.products,n=e.user,s=e.saveProductsToState,r=e.filterDetails,i=(e.cart_p,e.saveFilterDetailsToState),o=Object(a.useState)(1),u=Object(d.a)(o,2),j=u[0],b=u[1],h=Object(a.useState)(""),m=Object(d.a)(h,2),p=m[0],O=m[1],f=Object(a.useState)(0),x=Object(d.a)(f,2),v=x[0],g=x[1],N=Object(a.useState)([]),y=Object(d.a)(N,2),S=y[0],C=y[1];return Object(a.useEffect)((function(){window.scrollTo({top:0,left:0}),Object(T.a)("/product/pr/varieties").then((function(e){C(e)})),Object(T.b)("/product/search",{body:Object(l.a)({pageNumber:j,itemsToShow:5},r)}).then((function(e){var t=e.products,n=e.count;g(n),s(t),t.length||b(1)}))}),[j]),Object(c.jsxs)("div",{className:"shop",children:[Object(c.jsx)("div",{className:"filterSub"}),Object(c.jsx)("div",{className:"filterC",children:Object(c.jsx)(ie.Provider,{value:{searchChange:function(e){O(e.target.value)},search:function(e){i(Object(l.a)(Object(l.a)({},oe),{},{name:p})),b(1),Object(T.b)("/product/search",{body:Object(l.a)(Object(l.a)({},oe),{},{name:p,pageNumber:1,itemsToShow:5})}).then((function(e){var t=e.products,n=e.count;s(t),g(n)})).catch((function(e){return console.log(e)}))}},children:Object(c.jsx)(re,{filter:function(e){Object(T.b)("/product/search",{body:Object(l.a)(Object(l.a)({},r),{},{pageNumber:j,itemsToShow:5})}).then((function(e){var t=e.products,n=e.count;console.log(t,n),g(n),s(t)})).catch((function(e){return console.log(e)}))},filterChange:function(e){var t=e.target,n=t.name,c=t.value,a=t.checked;if("checkbox"===t.type){var s=r.type,o=r.variety;"type"===n?a?s.push(c):s.splice(s.indexOf(c),1):a?o.push(c):o.splice(o.indexOf(c),1),i(Object(l.a)(Object(l.a)({},r),{},{type:s,variety:o}))}else i(Object(l.a)(Object(l.a)({},r),{},Object(ae.a)({},n,c)))},varieties:S})})}),Object(c.jsx)("div",{className:"filterContainer"}),Object(c.jsxs)("div",{className:"productCollection",children:[Object(c.jsxs)("div",{className:"detailPlusSort",children:[Object(c.jsx)("button",{className:"browseAll",onClick:function(e){Object(T.b)("/product/search",{body:Object(l.a)(Object(l.a)({},oe),{},{pageNumber:j,itemsToShow:5})}).then((function(e){var t=e.products,n=e.count;g(n),s(t)})).catch((function(e){return console.log(e)}))},children:"Browse All"}),Object(c.jsxs)("div",{className:"pageNumberShow",children:["Page: ",j]}),Object(c.jsxs)("h3",{children:["Showing ",t&&t.length," of ",v," results"]})]}),t.map((function(e,t){return Object(c.jsx)(K,{user:n,product:e},t)})),Object(c.jsxs)("div",{className:"pageNumberShow",children:["Page: ",j]}),Object(c.jsxs)("div",{className:"paginateButtons",children:[Object(c.jsx)("button",{className:1===j?"disabledButton":null,onClick:function(){return b((function(e){return 1===e?1:e-1}))},children:"Prev"}),Object(c.jsx)("button",{className:j===Math.ceil(v/5)?"disabledButton":null,onClick:function(){return b((function(e){return e===Math.ceil(v/5)?Math.ceil(v/5):e+1}))},children:"Next"})]})]})]})}));n(118);function ue(){return Object(c.jsxs)("div",{className:"about",children:[Object(c.jsx)("h1",{children:"AMWINE SHOP"}),Object(c.jsxs)("div",{className:"aboutUS",children:[Object(c.jsx)("h2",{children:"We sell all kinds of wines and beers imported from each corner of the world."}),Object(c.jsx)("p",{children:"we are the certified company by Government of Nepal to sell liquor products."}),Object(c.jsx)("p",{children:"We sell only wines and beers."}),Object(c.jsx)("p",{children:"We guarantee the authenticity and quality of products."}),Object(c.jsx)("p",{children:"We have more than 50 employees for delivery and sale management for your comfort!"})]}),Object(c.jsx)("div",{className:"members",children:Object(c.jsxs)("div",{className:"memContainer",children:[Object(c.jsx)("div",{className:"mem founder",children:Object(c.jsxs)("div",{style:{background:"white",padding:"10px",width:"100%",position:"absolute",left:"0",height:"150px",bottom:"0px"},children:[Object(c.jsx)("h2",{children:"~Ankit Pradhan"}),Object(c.jsx)("h3",{children:"-- Founder and CEO"})]})}),Object(c.jsx)("div",{className:"mem president",children:Object(c.jsxs)("div",{style:{background:"white",padding:"10px",width:"100%",position:"absolute",left:"0",height:"150px",bottom:"0px"},children:[Object(c.jsx)("h2",{children:"~Kiran Musyakhwo"}),Object(c.jsx)("h3",{children:"-- President"})]})}),Object(c.jsx)("div",{className:"mem vice-president",children:Object(c.jsxs)("div",{style:{background:"white",padding:"10px",width:"100%",position:"absolute",left:"0",height:"150px",bottom:"0px"},children:[Object(c.jsx)("h2",{children:"~Aman Mool"}),Object(c.jsx)("h3",{children:"-- Vice-President"})]})})]})})]})}n(119);var de=n(47),je=n.n(de),be=Object(a.lazy)((function(){return n.e(3).then(n.bind(null,144))}));var he=Object(I.b)((function(e){return{user:e.user.user,cart_p:e.cart.products}}),(function(e){return{saveCartPToState:function(t){return e(A(t))},saveUserToState:function(t){return e(k(t))}}}))((function(e){var t=e.user,n=e.match,s=e.cart_p,r=e.saveUserToState,i=e.saveCartPToState,o=Object(a.useState)(null),l=Object(d.a)(o,2),u=l[0],b=l[1],h=Object(a.useState)(!0),m=Object(d.a)(h,2),O=m[0],f=m[1],x=Object(a.useState)(null),v=Object(d.a)(x,2),g=v[0],N=v[1],y=Object(a.useState)(5),S=Object(d.a)(y,2),C=S[0],w=S[1],k=Object(a.useState)(""),P=Object(d.a)(k,2),A=P[0],I=P[1],_=Object(a.useState)({}),D=Object(d.a)(_,2),L=D[0],U=D[1],B=Object(a.useState)(!1),R=Object(d.a)(B,2),V=R[0],q=R[1],H=function(e){return new Promise((function(t){var n=L;e.reviews.forEach(function(){var c=Object(G.a)(Q.a.mark((function c(a,s){var r;return Q.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(T.a)("/userDetails/".concat(a.addedBy));case 2:r=c.sent,L[a.addedBy]=r,s+1===e.reviews.length&&t(n);case 5:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}())}))};Object(a.useEffect)((function(){(function(){var e=Object(G.a)(Q.a.mark((function e(){var t,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.a)("/product/".concat(n.params.id));case 2:if(t=e.sent,b(t),N(t.images[0]),!t.reviews.length){e.next=13;break}return e.next=8,H(t);case 8:c=e.sent,U(c),setTimeout((function(){f(!1)}),30),e.next=14;break;case 13:f(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[V]);var W=function(){var e=Object(G.a)(Q.a.mark((function e(t){var n,c,a,o;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.findIndex((function(e){return e._id===t._id}))>-1)){e.next=3;break}return M("Already in the cart"),e.abrupt("return");case 3:if((n=s).push(t),c=n.map((function(e){return e._id})),localStorage.getItem("i_hash")){e.next=12;break}localStorage.setItem("cart_p",JSON.stringify(c)),i(n),F("Addedd to cart"),e.next=28;break;case 12:return(a=new FormData).append("cart",t._id),a.append("action","add"),e.prev=15,e.next=18,Object(T.c)("/user",{body:a},!0,"multipart/form-data");case 18:o=e.sent,r(o),i(n),F("Addedd to cart"),e.next=28;break;case 24:return e.prev=24,e.t0=e.catch(15),E("Some Error Occured"),e.abrupt("return");case 28:case"end":return e.stop()}}),e,null,[[15,24]])})));return function(t){return e.apply(this,arguments)}}();return O?null:Object(c.jsx)("div",{className:"productDetails",children:Object(c.jsxs)("div",{className:"aboutProduct",children:[Object(c.jsxs)("div",{className:"dImageContainer",children:[Object(c.jsx)("div",{className:"selectedDImage",children:Object(c.jsx)("img",{src:g,className:"dImage",alt:"productPic Current"})}),Object(c.jsx)("div",{className:"otherImagesContainer",children:u&&u.images.map((function(e,t){return Object(c.jsx)("img",{alt:"product pic",onClick:function(){return function(e){N(u.images[e])}(t)},src:e,className:"otherDImage"},t)}))})]}),Object(c.jsxs)("div",{className:"ddetails",children:[Object(c.jsx)("h2",{children:u&&u.name}),Object(c.jsx)("span",{className:"starRating",children:Object(c.jsx)(je.a,{name:"rate1",starCount:5,value:u.reviews.reduce((function(e,t){return e+t.rating}),0)/u.reviews.length})}),Object(c.jsx)("hr",{}),Object(c.jsxs)("h3",{children:["Price: Nrs. ",u&&u.price]}),Object(c.jsxs)("h4",{children:["Type: ",u&&u.pType]}),Object(c.jsxs)("h5",{children:["Variety: ",u&&u.variety]}),Object(c.jsxs)("span",{children:[u.quantity-(u.sold||0)," remaining in stock"]}),Object(c.jsx)("hr",{}),u.quantity-(u.sold||0)>0?Object(c.jsx)("button",{onClick:function(){return W(u)},style:s.findIndex((function(e){return e._id===u._id}))>-1?{backgroundColor:"var(--main-color)",color:"white"}:null,children:s.findIndex((function(e){return e._id===u._id}))>-1?"Already in Cart":"Add to Cart"}):null,Object(c.jsx)("hr",{}),p(t)?Object(c.jsx)(j.b,{to:"/admin/post/updateProduct/".concat(u._id),children:Object(c.jsx)("button",{children:"Update"})}):null,Object(c.jsx)("hr",{})]}),Object(c.jsx)(a.Suspense,{fallback:Object(c.jsx)("h1",{children:"Loading"}),children:Object(c.jsx)(be,{reviews:u.reviews,reviewRating:C,reviewUsers:L,setReviewRating:w,postReview:function(e){q(!0),localStorage.getItem("i_hash")?Object(T.b)("/product/review",{body:{rating:C,text:A,pId:u._id}},!0).then((function(e){b(e);var n=L;n.push(t),U(n),setTimeout((function(){q(!1)}),5)})).catch((function(e){q(!0),console.log(e)})):E("Please Login First")},reviewTextChange:function(e){I(e.target.value)},submitted:V})})]})})}));n(120),n(121);function me(e){var t=e.name,n=e.sideNavOpen,a=e.currentSideNavLink,s=e.match;return Object(c.jsxs)("div",{className:"dashNav",style:n?{left:"0%"}:{left:"-100%"},children:[Object(c.jsxs)("h2",{children:[" ",Object(c.jsxs)(j.b,{to:"".concat(s.url),children:["Hellow ",t]})]}),Object(c.jsxs)("div",{className:"analytics",children:[Object(c.jsx)("h3",{className:"headingLink",children:"Analytics"}),Object(c.jsx)("ul",{children:Object(c.jsx)(j.b,{to:"".concat(s.url,"/analytics/products"),children:Object(c.jsx)("li",{className:"/analytics/products"===a?"sideNavLinkActive":null,children:"Products"})})})]}),Object(c.jsxs)("div",{className:"post",children:[Object(c.jsx)("h3",{className:"headingLink",children:"Post"}),Object(c.jsxs)("ul",{children:[Object(c.jsx)(j.b,{to:"".concat(s.url,"/post/addProduct"),children:Object(c.jsx)("li",{className:"/post/addProduct"===a?"sideNavLinkActive":null,children:"Add Product"})}),Object(c.jsx)(j.b,{to:"".concat(s.url,"/post/postAds"),children:Object(c.jsx)("li",{className:"/post/postAds"===a?"sideNavLinkActive":null,children:"Post Adds"})})]})]}),Object(c.jsxs)("div",{className:"profile",children:[Object(c.jsx)("h3",{className:"headingLink",children:"Profile"}),Object(c.jsxs)("ul",{children:[Object(c.jsx)(j.b,{to:"".concat(s.url),children:Object(c.jsx)("li",{className:""===a?"sideNavLinkActive":null,children:"My Profile"})}),Object(c.jsx)(j.b,{to:"".concat(s.url,"/boughtHistory"),children:Object(c.jsx)("li",{className:"/boughtHistory"===a?"sideNavLinkActive":null,children:"Bought History"})}),Object(c.jsx)(j.b,{to:"".concat(s.url,"/update"),children:Object(c.jsx)("li",{className:"/update"===a?"sideNavLinkActive":null,children:"Update Profile"})})]})]}),Object(c.jsx)("div",{className:"admins",children:Object(c.jsx)("ul",{children:Object(c.jsx)(j.b,{to:"".concat(s.url,"/admins"),children:Object(c.jsx)("li",{className:"/admins"===a?"sideNavLinkActive":null,children:"Admins"})})})}),Object(c.jsx)(j.b,{to:"/AMWINE_FE",children:Object(c.jsx)("button",{className:"gotoHome",children:"GoTo Home"})})]})}n(122);function pe(e){var t=e.user,n=e.openSideNav,a=e.sideNavOpen,s=e.match;return Object(c.jsxs)("div",{className:"navTop",style:a?null:{justifyContent:"center",width:"100%"},children:[Object(c.jsx)("div",{className:"sideNavOpen",children:Object(c.jsx)("i",{className:"fa fa-align-right fa-2x",onClick:function(){n()}})}),Object(c.jsx)(j.b,{to:s.url,children:Object(c.jsx)("img",{className:"profilePicture",src:t&&t.image?t.image:f.a})})]})}n(123);var Oe={name:null,price:null,quantity:null,images:[],pType:"wine",variety:null};var fe=Object(I.b)((function(e){return{products:e.product.products}}),(function(e){return{saveProductToState:function(t){return e(P(t))}}}))((function(e){var t=e.products,n=e.saveProductToState,s=e.history,r=Object(a.useRef)(null),i=Object(a.useState)(Object(l.a)({},Oe)),o=Object(d.a)(i,2),u=o[0],j=o[1],b=Object(a.useState)(!1),h=Object(d.a)(b,2),m=h[0],p=h[1],O=function(e){var t=e.target,n=t.name,c=t.value;if("price"!==n&&"quantity"!==n||(c=+c),"images"===n){var a=u.images;a.push(e.target.files[0]),j(Object(l.a)(Object(l.a)({},u),{},{images:a}))}else j(Object(l.a)(Object(l.a)({},u),{},Object(ae.a)({},n,c)))},f=function(){var e=Object(G.a)(Q.a.mark((function e(c){var a,r,i,o,d,b,h,m,O;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),p(!0),e.prev=2,a=x(),r=new FormData,i=u.name,o=u.price,d=u.variety,b=u.pType,h=u.quantity,m=u.images,i&&r.append("name",i),o&&r.append("price",o),d&&r.append("variety",d),b&&r.append("pType",b),h&&r.append("quantity",h),m.length&&m.forEach((function(e){r.append("images",e)})),!a){e.next=24;break}return e.next=15,Object(T.b)("/product/",{body:r},!0,"multipart/form-data");case 15:e.sent,p(!1),(O=t).push(u),n(O),F("Successfully Added"),j(Oe),j(Object(l.a)(Object(l.a)({},u),{},{images:[]})),s.push("/AMWINE_FE");case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(2),p(!1);case 29:case"end":return e.stop()}}),e,null,[[2,26]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){for(var e in u)if(!u[e])return E("".concat(e," should be present")),!1;return!0};return Object(c.jsxs)("div",{className:"addProduct",children:[Object(c.jsx)("h2",{children:"Add Product"}),Object(c.jsxs)("form",{className:"productForm",method:"post",onSubmit:f,children:[Object(c.jsx)("label",{children:"Name"}),Object(c.jsx)("input",{onChange:O,type:"text",name:"name",defaultValue:u.name}),Object(c.jsx)("label",{children:"Price"}),Object(c.jsx)("input",{type:"number",onChange:O,name:"price",defaultValue:u.price}),Object(c.jsx)("label",{children:"Quantity"}),Object(c.jsx)("input",{type:"number",onChange:O,name:"quantity",defaultValue:u.quantity}),Object(c.jsx)("label",{children:"Variety"}),Object(c.jsx)("input",{onChange:O,name:"variety",placeholder:"Sparkling, Red, Sweet, Rose, etc.",defaultValue:u.variety}),Object(c.jsx)("label",{children:"Type"}),Object(c.jsxs)("select",{name:"pType",onChange:O,children:[Object(c.jsx)("option",{value:"wine",children:"Wine"}),Object(c.jsx)("option",{value:"beer",children:"Beer"})]}),Object(c.jsx)("label",{children:"Images"}),Object(c.jsx)("input",{type:"file",className:"pImageAdd",ref:r,name:"images",onChange:O,multiple:"multiple"}),Object(c.jsxs)("div",{className:"imageSelectedForProduct",children:[Object(c.jsx)("div",{className:"addMoreImageForProduct",onClick:function(){r.current.click()},children:Object(c.jsx)("i",{className:"addMoreIcon fa fa-plus fa-2x"})}),u.images.map((function(e,t){return Object(c.jsxs)("div",{className:"individualImageContainer",children:[Object(c.jsx)("img",{className:"individualImages",src:URL.createObjectURL(e)}),Object(c.jsx)("i",{className:"deleteImage fa fa-trash",onClick:function(){return function(e){var t=u.images;t.splice(e,1),j(Object(l.a)(Object(l.a)({},u),{},{images:t}))}(t)}})]},t)}))]}),Object(c.jsx)("button",{className:"productAddButton "+(m?"clicked":null),onClick:m?null:f,children:"Add"})]})]})})),xe=(n(124),{name:null,price:null,quantity:null,images:[],pType:"wine",variety:null});function ve(e){var t=e.match,n=e.history,s=Object(a.useState)(null),r=Object(d.a)(s,2),i=r[0],u=r[1],j=Object(a.useRef)(null),b=Object(a.useState)(Object(l.a)({},xe)),h=Object(d.a)(b,2),m=h[0],p=h[1],O=Object(a.useState)([]),f=Object(d.a)(O,2),x=f[0],v=f[1],g=Object(a.useState)([]),N=Object(d.a)(g,2),y=N[0],S=N[1];Object(a.useEffect)((function(){Object(T.a)("/product/".concat(t.params.id)).then((function(e){u(e),v(e.images),p({name:e.name,price:e.price,quantity:e.quantity,images:[],pType:e.pType,variety:e.variety})})).catch((function(e){return E("Some Failure Occured!")}))}),[]);var C=function(e){var t=e.target,n=t.name,c=t.value;if("images"===n){var a=m.images;a.push(e.target.files[0]),p(Object(l.a)(Object(l.a)({},m),{},{images:a}))}else p(Object(l.a)(Object(l.a)({},m),{},Object(ae.a)({},n,c)))},w=function(){var e=Object(G.a)(Q.a.mark((function e(c){var a,s,r,o,l,u,d;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),a=m.name,s=m.price,r=m.variety,o=m.pType,l=m.quantity,u=m.images,d=new FormData,a&&a.length&&d.append("name",a),s&&d.append("price",s),r&&d.append("variety",r),o&&d.append("pType",o),l&&d.append("quantity",l),y.length&&d.append("removeImage[]",y),u.length&&u.forEach((function(e){d.append("images",e)})),e.next=12,Object(T.c)("/product/".concat(t.params.id),{body:d},!0,"multipart/form-data");case 12:e.sent,n.push("shop/".concat(i._id));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"updateProduct",children:[Object(c.jsx)("h2",{children:"Update Product"}),Object(c.jsxs)("form",{className:"productForm",method:"post",onSubmit:w,children:[Object(c.jsx)("label",{children:"Name"}),Object(c.jsx)("input",{onChange:C,type:"text",name:"name",defaultValue:m.name}),Object(c.jsx)("label",{children:"Price"}),Object(c.jsx)("input",{type:"number",onChange:C,name:"price",defaultValue:m.price}),Object(c.jsx)("label",{children:"Quantity"}),Object(c.jsx)("input",{type:"number",onChange:C,name:"quantity",defaultValue:m.quantity}),Object(c.jsx)("label",{children:"Variety"}),Object(c.jsx)("input",{onChange:C,name:"variety",placeholder:"Sparkling, Red, Sweet, Rose, etc.",defaultValue:m.variety}),Object(c.jsx)("label",{children:"Type"}),Object(c.jsxs)("select",{name:"pType",onChange:C,defaultValue:m.pType,children:[Object(c.jsx)("option",{value:"wine",children:"Wine"}),Object(c.jsx)("option",{value:"beer",children:"Beer"})]}),Object(c.jsx)("label",{children:"Present Images"}),Object(c.jsx)("div",{className:"imageSelectedForProduct",children:x.map((function(e,t){return Object(c.jsxs)("div",{className:"individualImageContainer",children:[Object(c.jsx)("img",{className:"individualImages",src:e}),Object(c.jsx)("i",{className:"deleteImage fa fa-trash",onClick:function(){return function(e){S([].concat(Object(o.a)(y),[e]));var t=x;t.splice(x.indexOf(e),1),v(t)}(e)}})]},t)}))}),Object(c.jsx)("label",{children:"Images"}),Object(c.jsx)("input",{type:"file",className:"pImageAdd",ref:j,name:"images",onChange:C,multiple:"multiple"}),Object(c.jsxs)("div",{className:"imageSelectedForProduct",children:[Object(c.jsx)("div",{className:"addMoreImageForProduct",onClick:function(){j.current.click()},children:Object(c.jsx)("i",{className:"addMoreIcon fa fa-plus fa-2x"})}),m.images.map((function(e,t){return Object(c.jsxs)("div",{className:"individualImageContainer",children:[Object(c.jsx)("img",{className:"individualImages",src:URL.createObjectURL(e)}),Object(c.jsx)("i",{className:"deleteImage fa fa-trash",onClick:function(){return function(e){var t=m.images;t.splice(e,1),p(Object(l.a)(Object(l.a)({},m),{},{images:t}))}(t)}})]},t)}))]}),Object(c.jsx)("button",{className:"productUpdateButton",onClick:w,children:"Update"})]})]})}n(125);var ge={title:null,image:null};function Ne(e){var t=e.history,n=Object(a.useRef)(null),s=Object(a.useState)(Object(l.a)({},ge)),r=Object(d.a)(s,2),i=r[0],o=r[1],u=function(e){var t=e.target,n=t.value,c=t.name;o("image"===c?Object(l.a)(Object(l.a)({},i),{},{image:e.target.files[0]}):Object(l.a)(Object(l.a)({},i),{},Object(ae.a)({},c,n)))},j=function(e){if(e.preventDefault(),i.image){var n=new FormData;i.title&&n.append("title",i.title),i.image&&n.append("image",i.image),Object(T.b)("/ad",{body:n},!0,"multipart/form-data").then((function(e){F("Posted"),t.push("/AMWINE_FE")})).catch((function(e){return E("Some Error Occured")}))}else E("Add an Image please")};return Object(c.jsxs)("div",{className:"postAds",children:[Object(c.jsx)("h2",{children:"Post Ad"}),Object(c.jsxs)("form",{className:"adForm",method:"post",onSubmit:j,children:[Object(c.jsx)("label",{children:"Title"}),Object(c.jsx)("input",{onChange:u,type:"text",name:"title",defaultValue:i.name}),Object(c.jsx)("label",{children:"Image"}),Object(c.jsx)("input",{type:"file",className:"adImage",ref:n,name:"image",onChange:u}),Object(c.jsx)("button",{className:"postAdButton",onClick:j,children:"Post"})]})]})}n(126);var ye={fullName:null,address:null,number:null,image:null,password:null};var Se=Object(I.b)((function(e){return{user:e.user.user}}),(function(e){return{saveUserToState:function(t){return e(k(t))}}}))(Object(N.g)((function(e){var t=e.user,n=e.saveUserToState,s=e.history,r=Object(a.useRef)(null),i=Object(a.useState)(!1),o=Object(d.a)(i,2),u=o[0],j=o[1],b=Object(a.useState)(Object(l.a)({},ye)),h=Object(d.a)(b,2),m=h[0],O=h[1],x=function(e){var t=e.target,n=t.name,c=t.value;"file"===t.type&&(c=e.target.files[0]),O(Object(l.a)(Object(l.a)({},m),{},Object(ae.a)({},n,c)))},v=function(){var e=Object(G.a)(Q.a.mark((function e(t){var c,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),j(!0),c=new FormData,m.fullName&&c.append("fullName",m.fullName),m.number&&c.append("number",m.number),m.address&&c.append("address",m.address),m.password&&c.append("password",m.password),m.image&&c.append("image",m.image),e.next=10,Object(T.c)("/user",{body:c},!0,"multipart/form-data");case 10:(a=e.sent)&&(j(!1),n(a),F("Successfully Updated!"),p(a)?s.push("/admin"):s.push("/profile/".concat(a._id)));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)("div",{className:"",children:Object(c.jsx)("form",{method:"put",onSubmit:v,children:Object(c.jsxs)("div",{className:"profileUpdator",children:[Object(c.jsxs)("div",{className:"pImageContainer",children:[Object(c.jsx)("img",{className:"pImage",src:t.image?t.image:f.a}),Object(c.jsx)("i",{className:"uploaderIcon fa ".concat(m.image?"fa-arrow-left":"fa-camera"),onClick:function(e){e.preventDefault(),m.image?O(Object(l.a)(Object(l.a)({},m),{},{image:""})):r.current.click()}})]}),Object(c.jsx)("hr",{}),Object(c.jsxs)("div",{className:"pUpdateContainer",children:[Object(c.jsx)("input",{type:"file",ref:r,name:"image",onChange:x,className:"imageSelector"}),Object(c.jsx)("label",{children:"FullName"}),Object(c.jsx)("h2",{children:Object(c.jsx)("input",{type:"text",className:"editor",onChange:x,name:"fullName",placeholder:"FullName",defaultValue:t.fullName})}),Object(c.jsx)("label",{children:"Username"}),Object(c.jsxs)("p",{children:[t.userName," (Uneditable)"]}),Object(c.jsx)("label",{children:"Email"}),Object(c.jsxs)("p",{children:[t.email," (Uneditable)"]}),Object(c.jsx)("label",{children:"Address"}),Object(c.jsx)("p",{children:Object(c.jsx)("input",{type:"text",className:"editor",onChange:x,name:"address",placeholder:"Address",defaultValue:t.address})}),Object(c.jsx)("label",{children:"Password"}),Object(c.jsx)("p",{children:Object(c.jsx)("input",{type:"password",className:"editor",onChange:x,name:"password",placeholder:"Password",defaultValue:"**********"})}),Object(c.jsx)("label",{children:"Number"}),Object(c.jsx)("p",{children:Object(c.jsx)("input",{type:"tel",className:"editor",onChange:x,name:"number",placeholder:"Ph. Number",defaultValue:t.number})}),Object(c.jsx)("label",{children:"Image"}),Object(c.jsxs)("p",{children:[Object(c.jsx)("input",{type:"file",className:"editor",onChange:x,name:"image",placeholder:"image"}),Object(c.jsx)("img",{src:m.image?URL.createObjectURL(m.image):t.image?t.image:f.a,className:"editProfileProfileImage"})]})]}),Object(c.jsx)("button",{className:u?"clicked updateProfileButton":"updateProfileButton",onClick:u?null:v,children:"Update"})]})})})})));n(127);var Ce=Object(I.b)((function(e){return{user:e.user.user}}))((function(e){var t=e.user;return Object(c.jsx)("div",{className:"profileContainer",children:Object(c.jsxs)("div",{className:"profileDetails",children:[Object(c.jsx)("div",{className:"pImageContainer",children:Object(c.jsx)("img",{className:"pImage",src:t.image?t.image:f.a})}),Object(c.jsxs)("div",{className:"pDetailsContainer",children:[Object(c.jsx)("h2",{children:t.fullName}),Object(c.jsx)("p",{children:t.userName}),Object(c.jsx)("p",{children:t.email}),Object(c.jsx)("p",{children:t.address||"No Address Kept"}),Object(c.jsx)("p",{children:t.number})]})]})})}));n(128);function we(e){var t=e.min,n=e.max,a=e.products,s=e.goToProduct,r=e.changePageNumber;return Object(c.jsx)("div",{className:"productAnalytics",children:Object(c.jsxs)("div",{className:"productNav",children:[Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Product Name"}),Object(c.jsx)("th",{children:"Sold"}),Object(c.jsx)("th",{children:"Remaining"})]})}),Object(c.jsx)("tbody",{children:a.map((function(e){return Object(c.jsxs)("tr",{onClick:function(){return s(e._id)},children:[Object(c.jsx)("td",{children:e.name}),Object(c.jsx)("td",{children:e.sold||0}),Object(c.jsx)("td",{children:e.quantity-(e.sold||0)})]},e._id)}))})]}),Object(c.jsxs)("div",{className:"analyticsPaginate",children:[Object(c.jsx)("button",{style:t?{backgroundColor:"gray"}:null,onClick:function(){return r("prev")},children:"Prev"}),Object(c.jsx)("button",{style:n?{backgroundColor:"gray"}:null,onClick:function(){return r("next")},children:"Next"})]})]})})}n(129),n(130);function ke(e){var t=e.addAdmin,n=e.submitted,a=e.addAdminFormChange,s=e.adminForm;return Object(c.jsx)("div",{className:"addAdmins",children:Object(c.jsxs)("form",{className:"addAdminForm",onSubmit:t,children:[Object(c.jsx)("h2",{children:"Add Admin"}),Object(c.jsx)("label",{children:"Username"}),Object(c.jsx)("input",{type:"text",className:"formInput",name:"userName",onChange:a,value:s.userName}),Object(c.jsx)("label",{children:"Fullname"}),Object(c.jsx)("input",{type:"text",className:"formInput",name:"fullName",onChange:a,value:s.fullName}),Object(c.jsx)("label",{children:"Role"}),Object(c.jsxs)("select",{name:"role",onChange:a,defaultValue:"ADMIN_S",children:[Object(c.jsx)("option",{value:"ADMIN_P",children:"ADMIN_P"}),Object(c.jsx)("option",{value:"ADMIN_S",children:"ADMIN_S"})]}),Object(c.jsx)("label",{children:"Email"}),Object(c.jsx)("input",{type:"text",className:"formInput",name:"email",onChange:a,value:s.email}),Object(c.jsx)("label",{children:"Password"}),Object(c.jsx)("input",{type:"password",className:"formInput",name:"password",onChange:a,value:s.password}),Object(c.jsx)("button",{className:"addAdminFormButton "+(n?"clicked":null),onClick:n?null:t,children:"Add"})]})})}n(131);function Pe(e){var t=e.admins,n=e.mainAdmin,a=e.deleteAdmin,s=e.user;return Object(c.jsxs)("div",{className:"adminsDisplay",children:[Object(c.jsx)("h3",{children:"All Admins"}),Object(c.jsxs)("div",{className:"label",children:[Object(c.jsx)("span",{children:"Primary Admin"}),Object(c.jsx)("div",{className:"primaryAdmin"}),Object(c.jsx)("span",{children:"Secondary Admin"}),Object(c.jsx)("div",{className:"secondaryAdmin"})]}),Object(c.jsx)("ul",{children:t.map((function(e,t){return Object(c.jsxs)("li",{className:"ADMIN_P"===e.role?"primaryAdmin":"secondaryAdmin",children:[e.userName," ",e.userName===s.userName?"(YOU)":null,n&&e._id!==s._id?Object(c.jsx)("div",{className:"deleteAdmin",children:Object(c.jsx)("i",{className:"fa fa-trash",onClick:function(){return a(e._id)}})}):null]},t)}))})]})}var Ae={userName:null,fullName:null,password:null,role:"ADMIN_S"};var Ie=Object(I.b)((function(e){return{user:e.user.user}}))((function(e){var t=e.user,n=Object(a.useState)(Object(l.a)({},Ae)),s=Object(d.a)(n,2),r=s[0],i=s[1],u=Object(a.useState)([]),j=Object(d.a)(u,2),b=j[0],h=j[1],m=Object(a.useState)(!1),p=Object(d.a)(m,2),f=p[0],x=p[1];return Object(a.useEffect)((function(){Object(T.a)("/adminAuth",{},!0).then((function(e){h(e)})).catch(console.log)}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Pe,{admins:b,mainAdmin:O(t),deleteAdmin:function(e){Object(T.d)("/adminAuth/".concat(e),{},!0).then((function(t){var n=b;n.splice(n.findIndex((function(t){return t._id===e})),1),h(n)})).catch(console.log)},user:t}),O(t)?Object(c.jsx)(ke,{addAdmin:function(e){e.preventDefault(),x(!0),Object(T.b)("adminAuth",{body:r},!0).then((function(e){i(Ae),F("Successfully added"),h([].concat(Object(o.a)(b),[{_id:e._id,image:e._image,fullName:e.fullName,role:e.role,userName:e.userName}])),x(!1)})).catch((function(e){console.log(e),x(!1),i(Ae)}))},submitted:f,adminForm:r,addAdminFormChange:function(e){var t=e.target,n=t.name,c=t.value;i(Object(l.a)(Object(l.a)({},r),{},Object(ae.a)({},n,c)))}}):null]})}));n(132);var Te=Object(I.b)((function(e){return{user:e.user.user}}))((function(e){var t=e.user,n=Object(a.useState)({}),s=Object(d.a)(n,2),r=s[0],i=s[1],l=Object(a.useState)(!1),u=Object(d.a)(l,2),b=(u[0],u[1]);Object(a.useEffect)((function(){new Promise((function(e){t.bought.map(function(){var n=Object(G.a)(Q.a.mark((function n(c,a){var s,i,l;return Q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(T.a)("/bought/".concat(c),{},!0);case 2:i=n.sent,l=i.createdAt.slice(0,10),i.products.map(function(){var n=Object(G.a)(Q.a.mark((function n(c){var i;return Q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(T.a)("/product/".concat(c.product));case 2:i=n.sent,(s=r)[l]=[].concat(Object(o.a)(s[l]||[]),[{product:i,boughtQuantity:c.quantity}]),a+1===t.bought.length&&e(s);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})).then((function(e){i((function(t){return e})),setTimeout((function(){b(!0)}),20)}))}),[]);var h=Object.keys(r).map((function(e){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h3",{children:e}),Object(c.jsx)("hr",{}),r[e].map((function(e,t){return Object(c.jsx)(j.b,{to:"/shop/".concat(e.product._id),children:Object(c.jsxs)("div",{className:"boughtItems",style:{backgroundImage:"url(".concat(e.product.images[0],")"),backgroundSize:"cover"},children:[Object(c.jsx)("h2",{children:e.product.name}),Object(c.jsxs)("span",{children:["Bought: ",e.boughtQuantity]})]},t)})}))]})}));return Object(c.jsx)("div",{className:"boughtHistory",children:h})}));var _e=Object(I.b)((function(e){return{products:e.product.products,user:e.user.user}}),(function(e){return{saveProductToState:function(t){return e(P(t))}}}))((function(e){var t=e.products,n=e.saveProductToState,s=e.user,r=e.history,i=e.match,o=Object(a.useState)(1),j=Object(d.a)(o,2),b=j[0],h=j[1],m=Object(a.useState)(0),p=Object(d.a)(m,2),O=p[0],f=p[1],x=Object(a.useState)(!0),v=Object(d.a)(x,2),g=v[0],y=v[1];Object(a.useEffect)((function(){window.addEventListener("resize",C),Object(T.a)("/product?pageNumber=".concat(b,"&itemsToShow=10"),{},!0).then((function(e){var t=e.products,c=e.count;n(t),f(c)})).catch(console.log)}),[b]);var S=function(e){"next"===e?b!==Math.ceil(O/10)?h((function(e){return e+1})):h((function(e){return e})):h(1!==b?function(e){return e-1}:function(e){return 1})},C=function(){window.innerWidth<500&&y(!1)},w=function(){y((function(e){return!e}))},k=function(e){r.push("/shop/".concat(e))},P={width:"100%",marginLeft:"0"};function A(e){var n=e.component,a=Object(u.a)(e,["component"]);return Object(c.jsx)(N.b,Object(l.a)(Object(l.a)({},a),{},{render:function(e){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"sidenav",children:Object(c.jsx)(me,{name:s&&s.userName,sideNavOpen:g,match:i,currentSideNavLink:a.path.substring(6,a.path.length)})}),Object(c.jsxs)("div",{className:"postContents",style:g?null:P,children:[Object(c.jsx)(pe,{openSideNav:w,user:s,match:i,sideNavOpen:g}),Object(c.jsx)("div",{className:"compContents",children:Object(c.jsx)(n,Object(l.a)(Object(l.a)({},e),{},{products:t,changePageNumber:S,goToProduct:k,max:b===Math.ceil(O/10),min:1===b}))})]})]})}}))}return Object(c.jsxs)("div",{className:"adminPanel",children:[Object(c.jsx)(A,{exact:!0,path:i.url,component:Ce}),Object(c.jsx)(A,{path:i.url+"/update",component:Se}),Object(c.jsx)(A,{path:i.url+"/analytics/products",component:we}),Object(c.jsx)(A,{path:i.url+"/post/addProduct",component:fe}),Object(c.jsx)(A,{path:i.url+"/post/updateProduct/:id",component:ve}),Object(c.jsx)(A,{path:i.url+"/admins",component:Ie}),Object(c.jsx)(A,{path:i.url+"/post/postAds",component:Ne}),Object(c.jsx)(A,{path:i.url+"/boughtHistory",component:Te})]})})),Fe=(n(133),{eoru:"",password:""});var Ee=Object(I.b)(null,(function(e){return{saveUserToStore:function(t){return e(k(t))}}}))((function(e){var t=e.history,n=e.saveUserToStore,s=Object(a.useState)(Object(l.a)({},Fe)),r=Object(d.a)(s,2),i=r[0],o=r[1],u=Object(a.useState)(!1),b=Object(d.a)(u,2),h=b[0],m=b[1];function O(e){var t=e.target,n=t.name,c=t.value;o(Object(l.a)(Object(l.a)({},i),{},Object(ae.a)({},n,c)))}function f(e){return x.apply(this,arguments)}function x(){return(x=Object(G.a)(Q.a.mark((function e(c){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),m(!0),e.prev=2,e.next=5,Object(T.b)("/auth/signin",{body:i});case 5:a=e.sent,localStorage.setItem("i_hash",JSON.stringify(a.token)),n(a.user),F("Welcome ".concat(a.user.userName)),p(a.user)&&F("Hello Admin!"),t.push("/AMWINE_FE"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),E(e.t0.response.data.msg),m(!1);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}return Object(c.jsxs)("div",{className:"login",children:[Object(c.jsx)("h2",{children:"Login"}),Object(c.jsxs)("form",{className:"loginForm",method:"post",onSubmit:f,children:[Object(c.jsx)("label",{children:"Email or Username"}),Object(c.jsx)("input",{onChange:O,type:"text",name:"eoru",defaultValue:i.eoru}),Object(c.jsx)("label",{children:"Password"}),Object(c.jsx)("input",{type:"password",onChange:O,name:"password",defaultValue:i.password}),Object(c.jsx)("button",{className:"loginButton",onClick:f,style:h?{backgroundColor:"gray"}:null,disabled:h,children:"Login"})]}),Object(c.jsxs)("div",{className:"others",children:[Object(c.jsxs)("p",{children:["Don't Have an Account? Click ",Object(c.jsx)(j.b,{to:"/Join",children:" Here"})]}),Object(c.jsxs)("p",{children:["Forgot your password? Click ",Object(c.jsx)(j.b,{to:"/forgot-password",children:"Here"})]})]})]})})),Me=(n(134),{userName:"",fullName:"",email:"",password:"",number:""});var De=Object(I.b)(null,(function(e){return{saveUserToStore:function(t){return e(k(t))}}}))((function(e){var t=e.saveUserToStore,n=e.history,s=Object(a.useState)(Object(l.a)({},Me)),r=Object(d.a)(s,2),i=r[0],o=r[1],u=Object(a.useState)(!1),b=Object(d.a)(u,2),h=b[0],m=b[1];function p(e){var t=e.target,n=t.name,c=t.value;o(Object(l.a)(Object(l.a)({},i),{},Object(ae.a)({},n,c)))}function O(e){return f.apply(this,arguments)}function f(){return(f=Object(G.a)(Q.a.mark((function e(c){var a,s;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.next=3,x();case 3:if(a=e.sent,m(!0),!a.msg.length){e.next=11;break}E(a.msg),m(!1),e.next=25;break;case 11:return e.prev=11,e.next=14,Object(T.b)("/auth/signup",{body:i});case 14:s=e.sent,localStorage.setItem("i_hash",JSON.stringify(s.token)),t(s.user),F("Welcome ".concat(s.user.userName)),n.push("/AMWINE_FE"),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(11),E(e.t0),m(!1);case 25:case"end":return e.stop()}}),e,null,[[11,21]])})))).apply(this,arguments)}function x(){return v.apply(this,arguments)}function v(){return(v=Object(G.a)(Q.a.mark((function e(){var t,n,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(i.email.toLowerCase())){e.next=4;break}return e.abrupt("return",{msg:"Invalid Email"});case 4:if(i.password.length>8){e.next=7;break}return e.abrupt("return",{msg:"Password Length should be greater than 8"});case 7:if(i.userName.length>5){e.next=10;break}return e.abrupt("return",{msg:"UserName length should be greater than 5"});case 10:if(i.userName.indexOf(" ")<0){e.next=13;break}return e.abrupt("return",{msg:"Username should not contain white spaces"});case 13:return e.next=15,Object(T.a)("/auth/");case 15:if(!((t=e.sent).length>0)){e.next=21;break}if(n=t.findIndex((function(e){return e.email===i.email})),c=t.findIndex((function(e){return e.email===i.userName})),!(n>-1||c>-1)){e.next=21;break}return e.abrupt("return",{msg:"User already Exists"});case 21:return e.abrupt("return",{msg:""});case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.jsxs)("div",{className:"register",children:[Object(c.jsx)("h2",{children:"Register"}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{className:"necessary",children:"*"})," fields are important"]}),Object(c.jsxs)("form",{className:"registerForm",method:"post",onSubmit:O,children:[Object(c.jsxs)("label",{children:["Full Name ",Object(c.jsx)("span",{className:"necessary",children:"*"})]}),Object(c.jsx)("input",{type:"text",onChange:p,name:"fullName",defaultValue:i.fullName}),Object(c.jsxs)("label",{children:["Username ",Object(c.jsx)("span",{className:"necessary",children:"*"})]}),Object(c.jsx)("input",{onChange:p,type:"text",name:"userName",defaultValue:i.userName}),Object(c.jsxs)("label",{children:["Email ",Object(c.jsx)("span",{className:"necessary",children:"*"})]}),Object(c.jsx)("input",{onChange:p,type:"email",name:"email",defaultValue:i.email}),Object(c.jsxs)("label",{children:["Password ",Object(c.jsx)("span",{className:"necessary",children:"*"})]}),Object(c.jsx)("input",{type:"password",onChange:p,name:"password",defaultValue:i.password}),Object(c.jsx)("label",{children:"Ph. Number"}),Object(c.jsx)("input",{type:"tel",onChange:p,name:"number",defaultValue:i.number}),Object(c.jsx)("button",{className:"registerButton",style:h?{backgroundColor:"gray"}:null,onClick:O,disabled:h,children:"Register"})]}),Object(c.jsx)("div",{className:"others",children:Object(c.jsxs)("p",{children:["Already Have an Account? Click ",Object(c.jsx)(j.b,{to:"/login",children:" Here"})]})})]})}));n(135),n(136);function Le(e){var t=e.history,n=Object(a.useState)(""),s=Object(d.a)(n,2),r=s[0],i=s[1],o=Object(a.useState)(!1),l=Object(d.a)(o,2),u=l[0],b=l[1];function h(e){e.preventDefault(),r&&(b(!0),Object(T.b)("/auth/forgot-password",{body:{eoru:r}}).then((function(e){F("Email has been sent to ".concat(e.accepted[0])),b(!1),t.push("/login")})).catch((function(e){var t,n;E(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.msg),b(!1)})))}return Object(c.jsxs)("div",{className:"fPassword",children:[Object(c.jsx)("h2",{children:"Forgot Password"}),Object(c.jsxs)("form",{className:"fPasswordForm",method:"post",onSubmit:h,children:[Object(c.jsx)("label",{children:"Email/Username"}),Object(c.jsx)("input",{onChange:function(e){var t=e.target.value;i(t)},type:"text",name:"eoru",value:r}),Object(c.jsx)("button",{className:"fPasswordButton "+(u?"clicked":null),onClick:u?null:h,children:"Submit"})]}),Object(c.jsxs)("div",{className:"others",children:[Object(c.jsxs)("p",{children:["Don't Have an Account? Click ",Object(c.jsx)(j.b,{to:"/Join",children:" Here"})]}),Object(c.jsxs)("p",{children:["Go back to Login? Click ",Object(c.jsx)(j.b,{to:"/login",children:" Here"})]})]})]})}n(137),n(138);var Ue={address:null,city:null,state:null,postalCode:null,country:null};function Be(e){var t=e.setShowModal,n=e.setAddressFormDetails,s=Object(a.useState)(Object(l.a)({},Ue)),r=Object(d.a)(s,2),i=r[0],o=r[1],u=Object(a.useState)(!1),j=Object(d.a)(u,2),b=j[0],h=(j[1],function(e){o(Object(l.a)(Object(l.a)({},i),{},Object(ae.a)({},e.target.name,e.target.value)))}),m=function(e){e.preventDefault(),n(Object(l.a)({},i)),t(!1)};return Object(c.jsxs)("div",{className:"address-container",children:[Object(c.jsx)("span",{className:"crossModal",onClick:function(){return t(!1)},children:"\xd7"}),Object(c.jsxs)("div",{className:"address",children:[Object(c.jsx)("h2",{children:"Address"}),Object(c.jsxs)("form",{className:"addressForm",method:"post",onSubmit:m,children:[Object(c.jsx)("label",{children:"Address"}),Object(c.jsx)("input",{onChange:h,type:"text",name:"address",defaultValue:i.address}),Object(c.jsx)("label",{children:"City"}),Object(c.jsx)("input",{onChange:h,type:"text",name:"city",defaultValue:i.city}),Object(c.jsx)("label",{children:"State"}),Object(c.jsx)("input",{onChange:h,type:"text",name:"state",defaultValue:i.state}),Object(c.jsx)("label",{children:"Postal Code"}),Object(c.jsx)("input",{onChange:h,type:"text",name:"postalCode",defaultValue:i.postalCode}),Object(c.jsx)("label",{children:"Country"}),Object(c.jsx)("input",{onChange:h,type:"text",name:"country",defaultValue:i.country}),Object(c.jsx)("button",{className:"addressButton",onClick:m,style:b?{backgroundColor:"gray"}:null,disabled:b,children:"Done"})]})]})]})}document.querySelector("#root");var Re=document.querySelector("#modal");function Ve(e){var t=document.createElement("div");return Object(a.useEffect)((function(){return Re.appendChild(t),function(){Re.removeChild(t)}}),[]),i.a.createPortal(e.children,t)}var qe=Object(I.b)((function(e){return{user:e.user.user,products:e.product.products,cart_p:e.cart.products}}),(function(e){return{saveProductsToCart:function(t){return e(A(t))},saveUserToState:function(t){return e(k(t))}}}))((function(e){e.user,e.products;var t=e.cart_p,n=e.saveProductsToCart,s=e.saveUserToState,r=Object(a.useState)([]),i=Object(d.a)(r,2),u=i[0],b=i[1],h=Object(a.useState)(0),m=Object(d.a)(h,2),p=m[0],O=m[1],f=Object(a.useState)({}),x=Object(d.a)(f,2),v=x[0],g=x[1],N=Object(a.useState)(!1),y=Object(d.a)(N,2),S=y[0],C=y[1],w=Object(a.useState)({}),k=Object(d.a)(w,2),P=k[0],A=k[1],I=Object(a.useState)(!1),_=Object(d.a)(I,2),M=_[0],D=_[1];Object(a.useEffect)((function(){window.scrollTo({top:0,left:0}),O(u.reduce((function(e,t){return e+t.qty*t.price}),0))}),[u]);var L=function(e){var t=e.target,n=t.name,c=t.value,a=Object(l.a)({},v),s=u.findIndex((function(e){return e.p===n}));if(s>-1){var r=Object(o.a)(u);return r[s].qty=+c,void b(r)}a[n]>=0?(a[n]=c,g(a)):g(Object(l.a)(Object(l.a)({},v),{},Object(ae.a)({},n,c))),O(u.reduce((function(e,t){return e+t.qty*t.price}),0))},U=function(){var e=Object(G.a)(Q.a.mark((function e(c){var a,r,i,o,l;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,r=c._id,a.splice(a.indexOf(r),1),i=a.map((function(e){return e._id})),localStorage.getItem("i_hash")){e.next=8;break}localStorage.setItem("cart_p",JSON.stringify(i)),e.next=15;break;case 8:return(o=new FormData).append("action","remove"),o.append("cart",c._id),e.next=13,Object(T.c)("/user",{body:o},!0,"multipart/form-data");case 13:l=e.sent,s(l);case 15:n(a),F("Removed to cart"),O(u.reduce((function(e,t){return e+t.qty*t.price}),0));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){var t=e.target,n=(t.name,t.checked),c=t.value;if(n)v[c]?b([].concat(Object(o.a)(u),[{p:c,qty:v[c],price:+e.target.attributes[2].value}])):E("Select Quantity");else{var a=u;a.splice(a.findIndex((function(e){return e.p===c})),1),b(a)}O(u.reduce((function(e,t){return e+t.qty*t.price}),0))},R=p?p+150:0,V=5===Object.keys(P).length;return Object(c.jsxs)("div",{className:"cartContents",children:[S&&Object(c.jsx)(Ve,{children:Object(c.jsx)(Be,{setShowModal:C,setAddressFormDetails:A})}),Object(c.jsx)("h2",{children:"Cart"}),Object(c.jsx)("div",{className:"productsInCart",children:t.map((function(e,t){return Object(c.jsxs)("div",{className:"cartProduct",children:[e.quantity-(e.sold||0)?null:Object(c.jsx)("div",{className:"out-of-stock",children:Object(c.jsx)("p",{children:"Out-of-Stock"})}),Object(c.jsx)("img",{src:e.images[0],className:"pInCartImg"}),Object(c.jsx)("span",{className:"trash",onClick:function(){return U(e)},children:Object(c.jsx)("i",{className:"fa fa-trash "})}),v[e._id]>0?Object(c.jsx)("input",{type:"checkbox",className:"selectChecboxCart",value:e._id,onChange:B,price:e.price}):null,Object(c.jsxs)("div",{className:"cartProductDetails",children:[Object(c.jsx)(j.b,{to:"/shop/".concat(e._id),children:Object(c.jsx)("div",{className:"p_name",children:Object(c.jsx)("span",{children:e.name})})},t),Object(c.jsxs)("div",{className:"remDetailsPCart",children:[Object(c.jsx)("div",{className:"quantityAddToCart",children:Object(c.jsxs)("span",{className:"quantity",children:["Quantity:"," ",Object(c.jsx)("input",{type:"number",onChange:L,name:e._id,min:0,defaultValue:0,max:e.quantity-(e.sold||0)})]})}),Object(c.jsxs)("span",{className:"pCartPrice",children:["Price: ",e.price]})]})]})]},t)}))}),Object(c.jsxs)("div",{className:"checkOut",children:[Object(c.jsx)("h2",{children:"Order Summary"}),Object(c.jsx)("table",{children:Object(c.jsxs)("tbody",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"Subtotal"}),Object(c.jsxs)("td",{children:["Rs. ",p]})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"Shipping Fee"}),Object(c.jsx)("td",{children:"Rs. 150"})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"Total"}),Object(c.jsxs)("td",{children:["Rs. ",R]})]})]})}),Object(c.jsx)("button",{onClick:M?null:function(e){if(e.preventDefault(),5===Object.keys(P).length)if(localStorage.getItem("i_hash"))if(u.length){D(!0);var c={productReq:u,subTotal:p,shippingCharge:150,address:P.address,city:P.city,state:P.state,postalCode:P.postalCode,country:P.country};Object(T.b)("/bought",{body:c},!0).then((function(e){u.forEach((function(e){var c=e.p;t.splice(t.findIndex((function(e){return e._id===c})),1),n(t),D(!1)})),F(e)})).catch((function(e){E("Some Error Occured!"),D(!1)}))}else E("Select the Product first!");else E("Please Login First!");else C(!0)},className:"proceedToCheckout "+(M?"clicked":"null"),children:V?"Checkout":"Enter Full Address"})]}),V?Object(c.jsxs)("div",{className:"addressToDeliver",children:[Object(c.jsx)("h2",{children:"Address Information"}),Object(c.jsxs)("h4",{children:["Address: ",null===P||void 0===P?void 0:P.address]}),Object(c.jsxs)("h4",{children:["City: ",null===P||void 0===P?void 0:P.city]}),Object(c.jsxs)("h4",{children:["State: Bagmati ",null===P||void 0===P?void 0:P.state]}),Object(c.jsxs)("h4",{children:["PostalCode: ",null===P||void 0===P?void 0:P.postalCode]}),Object(c.jsxs)("h4",{children:["Country: ",null===P||void 0===P?void 0:P.country]})]}):null]})}));n(139);var He=Object(I.b)((function(e){return{user:e.user.user}}))((function(e){var t=e.match,n=e.user;return Object(c.jsxs)("div",{className:"pProfile",children:[Object(c.jsx)("div",{className:"topHandle",children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{className:t.params.link===n._id?"cSL":null,children:Object(c.jsx)(j.b,{to:"/profile/".concat(n._id),children:"Profile"})}),Object(c.jsx)("li",{className:"update"===t.params.link?"cSL":null,children:Object(c.jsx)(j.b,{to:"/profile/update",children:"Update Profile"})}),Object(c.jsx)("li",{className:"boughtHistory"===t.params.link?"cSL":null,children:Object(c.jsx)(j.b,{to:"/profile/boughtHistory",children:"Bought History"})}),Object(c.jsx)("li",{children:Object(c.jsx)(j.b,{to:"/cart",children:"Cart"})}),"            "]})}),Object(c.jsx)("div",{className:"det",children:"update"===t.params.link?Object(c.jsx)(Se,{}):"boughtHistory"===t.params.link?Object(c.jsx)(Te,{}):Object(c.jsx)(Ce,{})})]})})),We=n(51),Je=n(52),ze=n(55),Qe=n(54),Ge=(n(140),function(e){Object(ze.a)(n,e);var t=Object(Qe.a)(n);function n(){var e;return Object(We.a)(this,n),(e=t.call(this)).formChange=function(t){e.setState(Object(ae.a)({},t.target.name,t.target.value))},e.reset=function(t){if(t.preventDefault(),e.setState({submitted:!0}),e.state.password)if(e.state.password.length<8)E("Password should be greater than 8 length");else if(e.state.password===e.state.confirmPassword){var n=e.props.match.params.token;Object(T.b)("/auth/reset-password/".concat(n),{body:{password:e.state.password}}).then((function(t){e.setState({submitted:!1}),F("Succesfully Resetted!"),e.props.history.push("/login")})).catch((function(e){E(e.response.data.msg)}))}else E("Password do not match");else E("Please enter the password")},e.state={password:null,confirmPassowrd:null,submitted:!1},e}return Object(Je.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("div",{className:"rPassword",children:[Object(c.jsx)("h2",{children:"Reset Password"}),Object(c.jsxs)("form",{className:"rPasswordForm",method:"post",onSubmit:this.reset,children:[Object(c.jsx)("label",{children:"Password"}),Object(c.jsx)("input",{onChange:this.formChange,type:"password",name:"password",value:this.password}),Object(c.jsx)("label",{children:"Confirm password"}),Object(c.jsx)("input",{onChange:this.formChange,type:"password",name:"confirmPassword",value:this.confirmPassowrd}),Object(c.jsx)("button",{className:"rPasswordButton "+(this.submitted?"clicked":null),onClick:this.submitted?null:this.reset,children:"Submit"})]})]})}}]),n}(s.a.Component));n(141);function Ke(e){var t=e.history;return Object(c.jsxs)("div",{className:"notF",children:[Object(c.jsxs)("div",{className:"topIcons",children:[Object(c.jsx)("i",{className:"goBack fa fa-arrow-left",onclick:function(e){t.goBack()}}),Object(c.jsx)(j.c,{to:"/AMWINE_FE",className:"goHome",children:"Go to Home"})]}),Object(c.jsx)("div",{className:"notFoundIcon"})]})}function Ye(e){var t=e.component,n=e.user,a=Object(u.a)(e,["component","user"]);return Object(c.jsx)(N.b,Object(l.a)(Object(l.a)({},a),{},{render:function(e){return p(n)?Object(c.jsx)(t,Object(l.a)({},e)):Object(c.jsx)(N.a,{to:"/"})}}))}function Ze(e){var t=e.component,n=(e.isAdmin,Object(u.a)(e,["component","isAdmin"]));return Object(c.jsx)(N.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(L,{}),Object(c.jsx)(t,Object(l.a)({},e)),Object(c.jsx)(H,{})]})}}))}function $e(e){var t=e.component,n=(e.user,Object(u.a)(e,["component","user"]));return localStorage.getItem("i_hash")?Object(c.jsx)(N.a,{to:"/"}):Object(c.jsx)(N.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(L,{}),Object(c.jsx)(t,Object(l.a)({},e))]})}}))}var Xe=Object(I.b)((function(e){return{user:e.user.user,cart_p:e.cart.products}}),(function(e){return{saveUserToState:function(t){return e(k(t))},saveProductToState:function(t){return e(P(t))},saveCartPToState:function(t){return e(A(t))}}}))((function(e){var t=e.saveUserToState,n=e.cart_p,s=e.user,r=(e.products,e.saveProductToState,e.saveCartPToState);return Object(a.useEffect)((function(){if(localStorage.getItem("i_hash"))Object(T.a)("/user",{},!0).then((function(e){t(e);var c=[];e.cart.forEach((function(e){Object(T.a)("/product/".concat(e)).then((function(e){c.push(e),r([].concat(Object(o.a)(n),[e]))})).catch(console.log)}))})).catch(console.log);else{var e=JSON.parse(localStorage.getItem("cart_p")),c=[];e&&e.length&&e.forEach((function(e){Object(T.a)("/product/".concat(e)).then((function(e){c.push(e),r(c)})).catch(console.log)}))}}),[]),Object(a.useEffect)((function(){}),[s]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(j.a,{children:Object(c.jsxs)(N.d,{children:[Object(c.jsx)(Ze,{exact:!0,path:"/AMWINE_FE",component:ce}),Object(c.jsx)(Ze,{exact:!0,path:"/shop",component:le}),Object(c.jsx)(Ze,{exact:!0,path:"/profile/:link",component:He}),Object(c.jsx)(Ze,{path:"/cart",component:qe}),Object(c.jsx)(Ze,{path:"/shop/:id",component:he}),Object(c.jsx)(Ze,{path:"/about",component:ue}),Object(c.jsx)(Ye,{path:"/admin",component:_e,user:s}),Object(c.jsx)($e,{path:"/login",component:Ee,user:s}),Object(c.jsx)($e,{path:"/join",component:De,user:s}),Object(c.jsx)($e,{path:"/forgot-password",component:Le}),Object(c.jsx)($e,{path:"/reset-password/:token",component:Ge}),Object(c.jsx)(N.b,{component:Ke})]})}),Object(c.jsx)(_.a,{})]})})),et=n(23),tt=n(53),nt=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,145)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))},ct={user:{}},at={products:[]},st={products:[]},rt={type:[],variety:[],min:0,max:0,name:""},it=Object(tt.createLogger)(),ot=Object(et.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(l.a)(Object(l.a)({},e),{},{user:t.payload});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(l.a)(Object(l.a)({},e),{},{products:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(l.a)(Object(l.a)({},e),{},{products:Object(o.a)(t.payload)});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(l.a)(Object(l.a)({},e),t.payload);default:return e}}}),lt=Object(et.d)(ot,Object(et.a)(it));i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(I.a,{store:lt,children:Object(c.jsx)(Xe,{})})}),document.getElementById("root")),nt()}],[[142,1,2]]]);
//# sourceMappingURL=main.e7d3fc90.chunk.js.map